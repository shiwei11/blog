<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="shiwi"><meta name="copyright" content="SHIWIVI"><link rel="shortcut icon" href="/blog/images/favicon.ico" type="image/x-icon"><style>.preload{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:100}.text{margin-bottom:10px;color:#00cff3;text-shadow:0 0 3px #00cff3;font-size:20px}.text span{display:inline-block}.dance{animation:dance .8s linear}.text span:nth-child(1){animation-delay:0s}.text span:nth-child(2){animation-delay:.1s}.text span:nth-child(3){animation-delay:.2s}.text span:nth-child(4){animation-delay:.3s}.text span:nth-child(5){animation-delay:.4s}.text span:nth-child(6){animation-delay:.5s}.text span:nth-child(7){animation-delay:.6s}.text span:nth-child(8){animation-delay:.7s}.text span:nth-child(9){animation-delay:.8s}.text span:nth-child(10){animation-delay:.9s}@keyframes dance{0%{transform:translateY(0)}50%{transform:translateY(-20px)}100%{transform:translateY(0)}}.loading{width:80%;max-width:260px;height:6px;background-color:#e1e4e8;border-radius:6px}.bar{display:flex;height:100%;background:linear-gradient(90deg,#ffd33d,#ea4aaa 10%,#b34bff 30%,#01feff 51%,#ffb33d 68%,#ea4aaa 85%,#b34bff);background-size:300% 100%;animation:bar 2s linear infinite}@keyframes bar{0%{background-position:100%}100%{background-position:0}}</style><body><div class="preload"><div class="text"><span>L</span> <span>o</span> <span>a</span> <span>d</span> <span>i</span> <span>n</span> <span>g</span> <span>.</span> <span>.</span> <span>.</span></div><div class="loading"><span class="bar"></span></div></div><script>let texts=document.querySelector('.text').querySelectorAll('span');let timer=setInterval(()=>{texts.forEach((item)=>{item.classList.toggle("dance")})},1700);window.onload=function(){clearInterval(timer);document.querySelector('.preload').style="display:none;"}</script><title>SHIWIVI-文章</title>
<link rel="stylesheet" href="https://at.alicdn.com/t/font_2856826_bu73u0ahu7a.css">

<link rel="stylesheet" href="/blog/css/index.css">
<link rel="stylesheet" href="/blog/css/article.css">
<link rel="stylesheet" href="/blog/css/atelier-cave.min.css">

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/blog/atom.xml" title="SHWIVI's blog" type="application/atom+xml">
</head>
<body>
<div class="nav">
    <div class="card">
        <div class="head">
            <img src="/blog/images/head.jpg"  alt="头不见了.." title="狗">
        </div>
        <div class="cardText">
            <p>(ー`´ー)</p>
            <p>那不是bug，是彩蛋</p>
        </div> 
    </div>
    <ul class="label">
        
        <li><a href="/blog/index.html">首页</a></li>
        
        <li><a href="/blog/life">日常</a></li>
        
        <li><a href="/blog/record">一句</a></li>
        
        <li><a href="/blog/message">留言</a></li>
        
        <li><a href="/blog/about">关于</a></li>
          
    </ul>
        <ul class="tag">
            <li><a href="/blog/tags/Command">#Command</a></li>
            <li>#Java</li>
            <li>#css</li>
            <li>#Life</li>
            <li>#Lua</li>
            <li>#PCB</li>
            <li>#Shell</li>
            <li>#C</li>
            <li>#html</li>
            <li>#硬件</li>
            <li>#JavaScript</li>
            <li>#Firewall</li>
            <li>#Security</li>
            <li><a href="/blog/tags/Linux">#Linux</a></li>
            <li>#Python</li>
            <li>#Serve</li>
            <li>#Web</li>
        </ul>
    <div class="rsstag"><a href="/blog/atom.xml"><span class="iconfont icon-rss"></span>RSS订阅</a></div>
<div class="flower">
<?xml version="1.0" encoding="UTF-8"?>
<svg width="84.6px" height="70.5px" viewBox="0 0 254 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<title>窗</title>
<desc>Created with Sketch.</desc>
<defs></defs>
<g id="植物" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g id="Artboard" transform="translate(-885.000000, -503.000000)">
        <g id="植物-紫色盆" transform="translate(882.000000, 500.000000)">
            <ellipse id="Oval-12" fill="#B3B7C7" cx="140.5" cy="137" rx="39.5" ry="6"></ellipse>
            <g id="Group-5">
                <path d="M131.5,149 C137.746054,149 138.400559,136.953074 140.297813,118.503702 C141.504079,106.77367 149.145158,88.1140929 147,75 C142.297813,46.2539062 153.271934,32.5660626 150.170125,19.4282488 C148.031314,10.3692495 142.862042,3 131.5,3 C123.603887,3 113.698654,6.59314895 110.722909,11.2157433 C103.206874,22.8913341 114,46.5137576 114,75 C114,90.4435309 122.495151,106.751425 123.699377,118.476362 C125.595832,136.941172 125.250862,149 131.5,149 Z" id="Oval-11" fill="#BAC4F6"></path>
                <path d="M135.5,146.5 C132.598908,121.877878 130.965369,104.566553 130.599381,94.5660242 C130.050399,79.5652312 132.963841,77.0580598 132.164069,55.3464601 C131.630888,40.8720602 130.242865,30.4232402 128,24" id="Line-15" stroke="#FFFFFF" stroke-width="2" opacity="0.800892857" stroke-linecap="square"></path>
                <path d="M77.0442201,163.336077 C84.2239219,163.336077 101.067658,131.237823 101.067658,92.025606 C101.067658,52.8133888 90.9057581,-2.32627732 72.6560979,17.2440872 C50.0508064,41.4852946 69.5871262,36.5862429 74.0442201,63.8595149 C75.572858,73.2133576 77.0442201,94.5993942 77.0442201,104.613421 C77.0442201,143.825638 69.8645184,163.336077 77.0442201,163.336077 Z" id="Oval-9" fill="#BAC4F6" transform="translate(81.510722, 88.251316) rotate(-43.000000) translate(-81.510722, -88.251316) "></path>
                <path d="M42.5,50.5 C47.5132933,48.8699207 59.3816332,57.6317857 78.1050199,76.785595 C96.8284065,95.9394043 113.960067,116.844206 129.5,139.5" id="Line-17" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M155.281006,152.144255 C162.116643,152.144255 178.153197,121.584207 178.153197,84.2511084 C178.153197,72.6051871 184.354199,51.8242671 182.531201,39.8465879 C178.51025,13.4276595 163.058175,0.233079666 151.10317,13.0532528 C129.581164,36.1327785 143.297279,29.7382802 147.540781,55.7045685 C148.996164,64.6101585 153.500382,80.3852665 153.500382,89.9194035 C153.500382,127.252502 148.445368,152.144255 155.281006,152.144255 Z" id="Oval-9-Copy-2" fill="#E9EDFD" transform="translate(161.092971, 80.123972) scale(-1, 1) rotate(-20.000000) translate(-161.092971, -80.123972) "></path>
                <path d="M180.5,34.5 C181.290102,21.4892162 175.746138,28.9223292 163.868108,56.7993391 C157.546037,71.6368512 150.532373,85.3308057 144.827114,101.881203 C141.023608,112.914801 138.581237,128.787733 137.5,149.5" id="Line-20" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M60.3426107,183.894782 C69.2498271,183.894782 90.1463498,156.072081 90.1463498,122.083011 C90.1463498,88.0939419 67.5408019,29.4364067 54.8986583,57.2625442 C45.0326912,78.978146 51.0912584,74.0282851 56.6207779,97.6687014 C58.5172227,105.776593 67.8616068,124.363423 67.8616068,133.043561 C67.8616068,167.032631 51.4353942,183.894782 60.3426107,183.894782 Z" id="Oval-9-Copy" fill="#BAC4F6" transform="translate(69.895982, 116.944107) rotate(-71.000000) translate(-69.895982, -116.944107) "></path>
                <path d="M24.5,109.5 C22.4991751,103.669523 35.0833631,105.49608 62.2525641,114.979669 C79.4278854,120.974828 92.103247,119.378882 106.278649,126.191831 C111.777518,128.834684 120.517968,134.937407 132.5,144.5" id="Line-19" stroke="#FFFFFF" stroke-width="2" opacity="0.595424107" stroke-linecap="square"></path>
                <path d="M169.495543,159.559977 C178.40276,159.559977 199.299282,131.737276 199.299282,97.7482062 C199.299282,85.7856682 202.004463,66.329956 197.824033,53.1018748 C190.126639,28.745108 172.2443,14.8950801 164.051591,32.9277389 C154.185624,54.6433407 160.244191,49.6934798 165.77371,73.3338961 C167.670155,81.4417878 177.014539,100.028618 177.014539,108.708756 C177.014539,142.697825 160.588327,159.559977 169.495543,159.559977 Z" id="Oval-9-Copy-3" fill="#BAC4F6" transform="translate(179.479352, 92.134636) scale(-1, 1) rotate(-43.000000) translate(-179.479352, -92.134636) "></path>
                <path d="M213.5,60.5 C209.183273,60.8948914 201.740861,65.4428024 191.172763,74.1437328 C175.320617,87.1951284 177.797205,83.2393994 161.560337,103.262986 C150.735758,116.612043 142.715646,131.024381 137.5,146.5" id="Line-21" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M81.1425752,168.630026 C85.1025169,165.536181 98.2051544,147.96348 98.2051544,111.236918 C98.2051544,74.5103552 86.0176544,46.7369177 70.0176544,46.7369177 C54.0176544,46.7369177 59.5351666,70.3889964 66.8400325,93.0530589 C69.6371249,101.731312 78.9791535,122.814465 81.0032985,132.88325 C84.2653955,149.110029 78.6989273,170.539213 81.1425752,168.630026 Z" id="Oval-10" fill="#E9EDFD" transform="translate(78.936475, 107.743055) rotate(-52.000000) translate(-78.936475, -107.743055) "></path>
                <path d="M39.5,84.5 C46.5402399,84.832105 55.9862242,87.7506309 67.8379528,93.2555776 C85.6155457,101.512998 79.9127462,96.6348296 100.298442,112.739947 C113.888906,123.476691 125.956092,135.063376 136.5,147.5" id="Line-18" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M194.823347,177.534556 C197.785465,175.220296 209.085075,165.125173 213.530819,146.109724 C215.496552,137.701844 211.555235,124.000271 211.555235,111.853141 C211.555235,72.2337887 199.639103,43.8487815 182.378853,43.8487815 C165.118604,43.8487815 168.053621,58.2764613 175.933859,82.7256721 C183.814096,107.174883 191.693317,118.61017 193.876895,129.472028 C197.395933,146.976919 192.187224,179.594121 194.823347,177.534556 Z" id="Oval-10-Copy-2" fill="#E9EDFD" transform="translate(191.881132, 110.738214) scale(-1, 1) rotate(-52.000000) translate(-191.881132, -110.738214) "></path>
                <path d="M237.5,84.5 C231.839918,82.6252532 222.387737,84.7837206 209.143456,90.9754021 C189.277034,100.262925 198.344222,96.9653923 174.587666,113.911421 C158.749962,125.208774 147.387407,137.071634 140.5,149.5" id="Line-22" stroke="#FFFFFF" stroke-width="2" opacity="0.785044643" stroke-linecap="square"></path>
                <path d="M102.095097,154.049614 C106.979303,150.233654 123.140143,128.559423 123.140143,83.2607523 C123.140143,37.9620813 108.108037,3.70622602 88.3735811,3.70622602 C68.639125,3.70622602 75.4444439,32.8787829 84.4542911,60.8327171 C87.9042347,71.5365054 99.4267255,97.5405402 101.923313,109.959415 C105.946795,129.97358 99.0810936,156.404412 102.095097,154.049614 Z" id="Oval-10-Copy" fill="#E9EDFD" transform="translate(99.374086, 78.951409) rotate(-21.000000) translate(-99.374086, -78.951409) "></path>
                <path d="M70.5,27.5 C77.9697854,36.2141564 84.664658,44.2949462 90.5846178,51.7423694 C99.4645574,62.9135043 102.309139,65.8595669 108.078018,74.773869 C113.846897,83.6881711 108.232283,69.1486166 118.500716,94.8794382 C125.346337,112.033319 129.012765,128.573507 129.5,144.5" id="Line-16" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M193.001521,189.153265 C198.929205,189.153265 212.83568,162.652399 212.83568,130.278124 C212.83568,97.9038493 204.210737,49.7003434 189.378612,68.5372278 C174.540517,87.3816949 180.150684,86.5530431 183.830536,109.070321 C185.092606,116.793013 193.001521,132.403088 193.001521,140.670839 C193.001521,173.045114 187.073837,189.153265 193.001521,189.153265 Z" id="Oval-9-Copy-4" fill="#BAC4F6" transform="translate(196.248002, 126.727326) scale(-1, 1) rotate(-73.000000) translate(-196.248002, -126.727326) "></path>
                <path d="M234.5,116.5 C229.435614,115.997419 220.043174,117.148484 206.322678,119.953197 C185.741934,124.160265 185.201799,123.9696 168.145826,131.063968 C156.775178,135.793546 148.226569,140.93889 142.5,146.5" id="Line-23" stroke="#FFFFFF" stroke-width="2" opacity="0.733426339" stroke-linecap="square"></path>
            </g>
            <g id="Group-4" transform="translate(101.000000, 137.000000)">
                <path d="M0,0 C11.7955729,2 24.5052083,3 38.1289062,3 C51.7526042,3 65.3763021,2 79,0 L71.2109375,75.3409091 C61.9375,77.1136364 51.8945312,78 41.0820312,78 C30.2695313,78 19.4570312,77.1136364 8.64453125,75.3409091 L0,0 Z" id="Rectangle-9" fill="#FCDCCF"></path>
                <path d="M59.2621996,2.19791001 C63.6483775,1.86496527 70.2276443,1.1323286 79,0 L71.2109375,75.3409091 C63.3055851,76.5844933 57.2271178,77.3450382 52.9755357,77.6225437 L59.2621996,2.19791001 Z" id="Rectangle-9" fill="#ECC6B6"></path>
                <path d="M0,0 C10.9588352,1.33333333 23.3572727,2 37.1953125,2 C51.0333523,2 64.9682481,1.33333333 79,0 L76.7909585,21.3672948 L40.573652,23.0934676 L2.38711382,20.8047516 L0,0 Z" id="Rectangle-9" fill="#F3B096"></path>
            </g>
        </g>
    </g>
</g>
</svg>
</div>

</div>
<div class="menuBtn closed"> 
    <div class="menu-line"></div>
    <div class="menu-line"></div>
    <div class="menu-line"></div>
</div>
<div class="nightSky"><!--当关闭夜间背景模式时，子元素将在一段延时后才会被清除--></div>
<div class="main">
    <div class="msg">
        <div class="msgText"></div>
        <div class="msgBar"></div>
    </div>
    <div class="motto">
        <p> //sunny forever<br />
            while(life&lt;end){<br />
               love++;<br />
               beAwesome :)} </p>
     </div>
     <div class="mainContent">
    <div class="canvasWrapper"></div>
<div class="setWrapper">
    <ul class="setMenu">
        <div id="setBtn" class="setButton"><</div>
        <li class="searchContainer">
            <input id="searchInput" class="localSearch" placeholder="搜索..." type="search" >
            <span class="searchIco"></span>
        </li>
        <li id="toggleItem">
        主题：<span class="itemIco sun"></span>
        </li>
        <li class="setSize">
            <span id="increaseFontSize">+</span>
            <span class="fontSizeNum"></span>
            <span id="reduceFontSize">-</span>
        </li>
        <li id="clearBack">清除背景</li>
        <li id="disableBack">禁用背景</li>
    </ul> 
</div>
    <div class="resultContainer">
        <div id="searchResult" class="displayResult"></div>
    </div>
    <div class="tocWrapper"><div class="tocBtn">目 录</div><div class="tocBox"><!--tocBox用于容纳生成在toc外的目录--><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%B0%BA%E5%AF%B8"><span class="toc-number">1.</span> <span class="toc-text">全局尺寸</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%8F%E5%B9%95%E5%B0%BA%E5%AF%B8"><span class="toc-number">1.1.</span> <span class="toc-text">屏幕尺寸</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B0%BA%E5%AF%B8"><span class="toc-number">1.2.</span> <span class="toc-text">浏览器尺寸</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E4%BD%8D%E7%BD%AE"><span class="toc-number">1.3.</span> <span class="toc-text">鼠标位置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dom"><span class="toc-number">2.</span> <span class="toc-text">Dom</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#client"><span class="toc-number">2.1.</span> <span class="toc-text">client</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#offset"><span class="toc-number">2.2.</span> <span class="toc-text">offset</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#scroll"><span class="toc-number">2.3.</span> <span class="toc-text">scroll</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DOMRect%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.</span> <span class="toc-text">DOMRect对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Element-getBoundingClientRect"><span class="toc-number">3.1.</span> <span class="toc-text">Element.getBoundingClientRect()</span></a></li></ol></li></ol></div></div>
        <div class="article">
        <h1 class="title">JavaScript中的各种尺寸</h1>
        <div class="art-info">
            <div><span><span class="iconfont icon-zishu-jzl"></span>字数：10846</span>
            <span><span class="iconfont icon-riqi"></span>写于：2023-09-07</span></div>
            <div><span><span class="iconfont icon-zuixinnew3"></span>最新更新：2023-09-07</span>
            <span><span class="iconfont icon-shijian"></span>阅读本文预计花费您31分钟</span></div>
        </div>
        <div class="art-content">
        <h3 id="全局尺寸"><a href="#全局尺寸" class="headerlink" title="全局尺寸"></a>全局尺寸</h3><h4 id="屏幕尺寸"><a href="#屏幕尺寸" class="headerlink" title="屏幕尺寸"></a>屏幕尺寸</h4><ul>
<li><span class="strong">window.screen.height</span>返回整个屏幕的高度</li>
<li><span class="strong">window.screen.width</span>返回整个屏幕的宽度</li>
<li><span class="strong">window.screen.availHeight</span>返回屏幕可用高度(去掉任务栏高度)</li>
<li><span class="strong">window.screen.availWidth</span>返回屏幕可用宽度(去掉任务栏宽度)</li>
<li><span class="strong">window.screenTop/window.sceenY</span>返回浏览器左边界到屏幕左边缘的距离</li>
<li><span class="strong">window.screenLeft/window.screenX</span>返回浏览器的上边界到屏幕上边缘的距离</li>
</ul>
<div class="broadcast color-yellow">
<div class="iconfont icon-dengpao14hao"></div>
availHeight和availWidth主要用于PC端，一般情况下，任务栏位于屏幕底部占用了屏幕高度，所以window.screen.availHeight的值是window.screen.height减去任务栏高度后得出的值，如果任务栏隐藏，screen.availHeight的值将等于screen.height。同理，当任务栏在屏幕左侧或右侧时，可以用availWidth获得当前屏幕可用宽度。</div>

<h4 id="浏览器尺寸"><a href="#浏览器尺寸" class="headerlink" title="浏览器尺寸"></a>浏览器尺寸</h4><ul>
<li><span class="strong">window.outerHeight</span>返回整个浏览器窗口的高度，包括地址栏、标签栏、收藏栏和显示网页的布局视口高度</li>
<li><span class="strong">window.outerWidth</span>返回整个浏览器窗口的宽度</li>
<li><span class="strong">window.innerHeight</span>返回浏览器显示网页用的布局视口(layout viewport)高度，包含滚动条(如果有)，不包含地址栏、标签栏、收藏栏的高度</li>
<li><span class="strong">window.innerWidth</span>返回浏览器视口宽度，包含滚动条(如果有)</li>
</ul>
<p>任何窗口对象window、frame、frameset都支持window.innerHeight属性，outerHeight和innerHeight区别如下(图片来源于MDN文档)</p>
<img data-src="/blog/images/innervsouterheight.png" src="#" alt="innerHeight">

<div class="broadcast color-red">
<div class="iconfont icon-gantanhao"></div>
在Android端浏览器中，上述4个属性的返回值可能不可靠，如可能出现innerHeight值大于outerHeight等情况，不同Android系统版本返回值不同，因此在移动端中请慎用，Stack Overflow上有一篇讨论这一问题的帖子：<a href="https://stackoverflow.com/questions/10610743/android-browsers-screen-width-screen-height-window-innerwidth-window-inner" target="_blank">Android browser's screen.width, screen.height & window.innerWidth & window.innerHeight are unreliable</a></div>

<h4 id="鼠标位置"><a href="#鼠标位置" class="headerlink" title="鼠标位置"></a>鼠标位置</h4><p>鼠标事件触发时，与鼠标位置有关的坐标</p>
<ul>
<li><span class="strong">event.screenY</span>返回触发事件时，鼠标在屏幕中的Y坐标值</li>
<li><span class="strong">event.screenX</span>返回触发事件时，鼠标在屏幕中的X坐标值</li>
<li><span class="strong">event.pageY</span>返回触发事件时，鼠标相对于整个document的Y坐标值，其值会受文档滚动影响</li>
<li><span class="strong">event.pageX</span>返回触发事件时，鼠标相对于整个document的X坐标值，其值会受文档滚动影响</li>
<li><span class="strong">event.clientY</span>返回触发事件时，鼠标相对于浏览器当前网页视口的Y坐标值，其值不受滚动影响</li>
<li><span class="strong">event.clientX</span>返回触发事件时，鼠标相对于浏览器当前网页视口的X坐标值，其值不受滚动影响</li>
<li><span class="strong">event.offsetY</span>返回触发事件时，鼠标相对于事件触发源Dom上边界的Y坐标值，其值会受该Dom滚动的影响</li>
<li><span class="strong">event.offsetX</span>返回触发事件时，鼠标相对于事件触发源Dom左边界的X坐标值，其值会受该Dom滚动的影响</li>
<li>event.movementY 返回当前事件和上一个mousemove事件之间，鼠标在竖直方向上的移动值</li>
<li>event.movementX 返回当前事件和上一个mousemove事件之间，鼠标在水平方向上的移动值</li>
<li>event.x 即event.clientX的别名，实验性属性，兼容性较差</li>
<li>event.y 即event.clientY的别名，实验性属性，兼容性较差</li>
</ul>
<p><canvas width="300" height="400" id="canvasMouseEvent"
        style="display:block;width:300px;height:400px;margin:0 auto;border:1px dashed #000;background:#fff;"></canvas></p>
<script>
        const canvasMouseEvent = document.getElementById('canvasMouseEvent');
        const ctxME = canvasMouseEvent.getContext('2d');
        ctxME.beginPath();
        ctxME.lineWidth = 2;
        ctxME.strokeRect(10, 150, 280, 200);
        ctxME.lineWidth = 1;
        ctxME.strokeRect(60, 200, 180, 100);
        ctxME.arc(160,250,3,0,Math.PI*2);
        ctxME.stroke();
        ctxME.closePath();
        ctxME.beginPath();
        ctxME.lineWidth = 1;
        ctxME.strokeStyle = "#f00";
        ctxME.moveTo(160, 200);
        ctxME.lineTo(160, 250);
        ctxME.moveTo(155, 205);
        ctxME.lineTo(160, 200);
        ctxME.lineTo(165, 205);
        ctxME.moveTo(160, 250);
        ctxME.lineTo(60, 250);
        ctxME.moveTo(65, 255);
        ctxME.lineTo(60, 250);
        ctxME.lineTo(65, 245);
        ctxME.font = "16px Serif";
        ctxME.fillStyle = "#f00";
        ctxME.fillText('offsetY', 160, 230)
        ctxME.fillText('offsetX', 80, 245)
        ctxME.stroke();
        ctxME.closePath();
        ctxME.beginPath();
        ctxME.strokeStyle = "#00f";
        ctxME.moveTo(190, 10);
        ctxME.lineTo(190, 250);
        ctxME.moveTo(185, 25);
        ctxME.lineTo(190, 10);
        ctxME.lineTo(195, 25);
        ctxME.moveTo(10, 280);
        ctxME.lineTo(160, 280);
        ctxME.moveTo(20, 275);
        ctxME.lineTo(10, 280);
        ctxME.lineTo(20, 285);
        ctxME.fillStyle = "#00f";
        ctxME.fillText('pageY', 200, 80)
        ctxME.fillText('pageX', 80, 295)
        ctxME.stroke();
        ctxME.closePath();
        ctxME.beginPath();
        ctxME.strokeStyle = "#05fe05";
        ctxME.moveTo(170, 152);
        ctxME.lineTo(170, 250);
        ctxME.moveTo(165, 167);
        ctxME.lineTo(170, 152);
        ctxME.lineTo(175, 167);
        ctxME.moveTo(10, 260);
        ctxME.lineTo(160, 260);
        ctxME.moveTo(25, 265);
        ctxME.lineTo(10, 260);
        ctxME.lineTo(25, 255);
        ctxME.stroke();
        ctxME.font = "16px Serif";
        ctxME.fillStyle = "#05fe05";
        ctxME.fillText('clientY', 170, 190);
        ctxME.fillText('clientX', 70, 275);
        ctxME.closePath();
        ctxME.fillStyle = "#000";
        ctxME.fillText('浏览器可视区', 15, 170)
        ctxME.fillText('document溢出部分', 15, 30)
        ctxME.fillText('dom', 65, 215)
        ctxME.fillText('鼠标事件', 165, 265)
        ctxME.beginPath();
        ctxME.strokeStyle = "#000";
        ctxME.setLineDash([10, 5]);
        ctxME.strokeRect(10, 10, 280, 380);
        ctxME.closePath();
</script>

<div class="show">pageY、pageX、offsetY、offsetX的值会受到文档/Dom滚动的影响，即在鼠标位置不变的情况下，文档和Dom滚动前后，鼠标事件触发获得的返回值不一样，因为鼠标相对于整个文档/Dom的位置改变了。而clientX、clientY的返回值始终是以当前网页视口左上角为基准进行计算的，与文档、Dom滚动无关
box.addEventListener('click',e=>{
            e.stopPropagation();
            console.log('offsetX:'+e.offsetX+'px;\noffsetY:'+e.offsetY+'px;\n');
            console.log('pageX:'+e.pageX+'px;\npageY'+e.pageY+'px;\n');
        })</div>

<h3 id="Dom"><a href="#Dom" class="headerlink" title="Dom"></a>Dom</h3><h4 id="client"><a href="#client" class="headerlink" title="client"></a>client</h4><ul>
<li><span class="strong">Element.clientHeight</span>元素内部的高度，包含padding值，但不包含border，margin和滚动条带来的高度</li>
<li><span class="strong">Element.clientWidth</span>元素内部的宽度，同上</li>
<li><span class="strong">Element.clientTop</span>返回元素顶部边框的宽度，即border–top-width的值，表示元素内容(content)到元素顶部的距离</li>
<li><span class="strong">Element.clientLeft</span>返回元素左边框的宽度，即border-left-width的值，表示元素内容到元素左侧的距离。如果元素左边有垂直滚动条，则该属性包括滚动条的宽度</li>
</ul>
<h4 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h4><ul>
<li><span class="strong">Element.offsetHeight</span>元素高度，包含padding，border和滚动条，不包含:before 或:after 等伪类元素的高度</li>
<li><span class="strong">Element.offsetWidth</span>元素的宽度，同上</li>
<li><span class="strong">Element.offsetTop</span>返回当前元素相对于最近的祖先定位元素的顶部距离，一般是top值+子元素的margin-top值</li>
<li><span class="strong">Element.offsetLeft</span>返回当前元素相对于最近的祖先定位元素的左侧距离，一般是left值+子元素的margin-left值</li>
</ul>
<h4 id="scroll"><a href="#scroll" class="headerlink" title="scroll"></a>scroll</h4><ul>
<li><p><span class="strong">Element.scrollHeight</span> 返回包括溢出部分的元素高度，包括padding值、伪元素的高度，但不包括border、margin和滚动条的值，如果元素不溢出，则该值等于clientHeight</p>
</li>
<li><p><span class="strong">Element.scrollWidth</span>返回包括溢出部分的元素宽度，内容同上</p>
</li>
<li><p><span class="strong">Element.scrollTop</span>可以设置和获取，代表元素的内容顶部到它的视口可见内容顶部的距离</p>
</li>
<li><p><span class="strong">Element.scrollTop</span>可以设置和获取，代表元素的内容左边界到它的视口可见内容左边界的距离</p>
</li>
</ul>
<p><canvas width="300" height="500" id="canvasScroll" style="display:block;width:300px;height:500px;margin:0 auto;border:1px dashed #000;background:#fff;"></canvas></p>
<script>
      const canvasScroll = document.getElementById('canvasScroll');
        const ctxScroll = canvasScroll.getContext('2d');
        ctxScroll.beginPath();
        ctxScroll.lineWidth = 5;
        ctxScroll.strokeRect(10, 150, 280, 200);
        ctxScroll.closePath();
        ctxScroll.beginPath();
        ctxScroll.lineWidth = 1;
        ctxScroll.strokeStyle = "#f00";
        ctxScroll.moveTo(40, 10);
        ctxScroll.lineTo(40, 490);
        ctxScroll.moveTo(35, 25);
        ctxScroll.lineTo(40, 10);
        ctxScroll.lineTo(45, 25);
        ctxScroll.moveTo(35, 475);
        ctxScroll.lineTo(40, 490);
        ctxScroll.lineTo(45, 475);
        ctxScroll.font = "20px Serif";
        ctxScroll.fillStyle = "#f00";
        ctxScroll.fillText('scrollHeight', 40, 250)
        ctxScroll.stroke();
        ctxScroll.closePath();
        ctxScroll.beginPath();
        ctxScroll.strokeStyle = "#00f";
        ctxScroll.moveTo(190, 10);
        ctxScroll.lineTo(190, 150);
        ctxScroll.moveTo(185, 25);
        ctxScroll.lineTo(190, 10);
        ctxScroll.lineTo(195, 25);
        ctxScroll.moveTo(185, 135);
        ctxScroll.lineTo(190, 150);
        ctxScroll.lineTo(195, 135);
        ctxScroll.fillStyle = "#00f";
        ctxScroll.fillText('scrollTop', 190, 80)
        ctxScroll.stroke();
        ctxScroll.closePath();
        ctxScroll.beginPath();
        ctxScroll.strokeStyle = "#05fe05";
        ctxScroll.moveTo(170, 152);
        ctxScroll.lineTo(170, 348);
        ctxScroll.moveTo(165, 167);
        ctxScroll.lineTo(170, 152);
        ctxScroll.lineTo(175, 167);
        ctxScroll.moveTo(165, 333);
        ctxScroll.lineTo(170, 348);
        ctxScroll.lineTo(175, 333);
        ctxScroll.stroke();
        ctxScroll.font = "20px Serif";
        ctxScroll.fillStyle = "#05fe05";
        ctxScroll.fillText('clientHeight', 170, 250)
        ctxScroll.closePath();
        ctxScroll.fillStyle = "#000";
        ctxScroll.fillText('元素显示部分', 45, 180)
        ctxScroll.fillText('元素溢出部分', 45, 30)
        ctxScroll.beginPath();
        ctxScroll.strokeStyle = "#000";
        ctxScroll.setLineDash([10, 5]);
        ctxScroll.strokeRect(20, 10, 260, 480);
        ctxScroll.closePath();
</script>

<div class="show">判断元素是否已经滚到底部，以及判定用户是否已经阅读完文本的解决方案：
判断是否满足scrollHeight-scrollTop=clientHeight，由于scrollTop 是一个非整数，而 scrollHeight 和 clientHeight 是四舍五入的整数，因此判断三个值的差值小于某个阈值即可
Math.abs(ele.scrollHeight - ele.clientHeight - ele.scrollTop)&lt;3
</div>

<h3 id="DOMRect对象"><a href="#DOMRect对象" class="headerlink" title="DOMRect对象"></a>DOMRect对象</h3><p>上述属性返回值一般为四舍五入的整数值，通过DOMRect对象可以获得更为精确的浮点数坐标值</p>
<h4 id="Element-getBoundingClientRect"><a href="#Element-getBoundingClientRect" class="headerlink" title="Element.getBoundingClientRect()"></a>Element.getBoundingClientRect()</h4><p>该方法会返回一个DOMRect对象，该对象提供了几个描述该Dom位置和大小的属性，这些属性都是基于网页可视窗口的左上角作为坐标原点进行计算的</p>
<ul>
<li><span class="strong">width</span>返回Dom的宽度，包含padding值和border-width值</li>
<li><span class="strong">height</span>返回Dom的高度，包含padding值和border-width值</li>
<li><span class="strong">x/left</span>返回Dom左边界到网页可视窗口左边界的距离</li>
<li><span class="strong">y/top</span>返回Dom上边界到网页可视窗口上边界的距离</li>
<li><span class="strong">right</span>返回Dom右边界到网页可视窗口左边界的距离</li>
<li><span class="strong">bottom</span>返回Dom下边界到网页可视窗口左边界的距离</li>
</ul>
<p><canvas width="300" height="300" id="canvasDomRect"
        style="display:block;width:300px;height:300px;margin:0 auto;border:1px dashed #000;background:#fff;"></canvas></p>
<script>
        const canvasDomRect = document.getElementById('canvasDomRect');
        const ctxDR = canvasDomRect.getContext('2d');
        ctxDR.beginPath();
        ctxDR.lineWidth = 2;
        ctxDR.strokeRect(10, 10, 280, 280);
        ctxDR.lineWidth = 1;
        ctxDR.strokeRect(70, 70, 150, 150);
        ctxDR.stroke();
        ctxDR.closePath();
        ctxDR.beginPath();
        ctxDR.font = "16px Serif";
        ctxDR.strokeStyle = "#f00";
        ctxDR.moveTo(70,200);
        ctxDR.lineTo(220,200);
        ctxDR.moveTo(85,195);
        ctxDR.lineTo(70,200);
        ctxDR.lineTo(85,205);
        ctxDR.moveTo(205,195);
        ctxDR.lineTo(220,200);
        ctxDR.lineTo(205,205);
        ctxDR.fillStyle = "#f00";
        ctxDR.fillText('width', 130, 190)
        ctxDR.fillText('height', 165, 150);
        ctxDR.moveTo(200,70);
        ctxDR.lineTo(200,220);
        ctxDR.moveTo(195,85);
        ctxDR.lineTo(200,70);
        ctxDR.lineTo(205,85);
        ctxDR.moveTo(195,205);
        ctxDR.lineTo(200,220);
        ctxDR.lineTo(205,205);
        ctxDR.stroke();
        ctxDR.closePath();
        ctxDR.beginPath();
        ctxDR.strokeStyle = "#00f";
        ctxDR.moveTo(100, 10);
        ctxDR.lineTo(100, 70);
        ctxDR.moveTo(95, 25);
        ctxDR.lineTo(100, 10);
        ctxDR.lineTo(105, 25);
        ctxDR.moveTo(10, 100);
        ctxDR.lineTo(70, 100);
        ctxDR.moveTo(25, 95);
        ctxDR.lineTo(10, 100);
        ctxDR.lineTo(25, 105);
        ctxDR.fillStyle = "#00f";
        ctxDR.fillText('y/top', 110, 45)
        ctxDR.fillText('x/left', 15, 90)
        ctxDR.stroke();
        ctxDR.closePath();
        ctxDR.beginPath();
        ctxDR.strokeStyle = "#05fe05";
        ctxDR.moveTo(240, 10);
        ctxDR.lineTo(240, 220);
        ctxDR.moveTo(235, 25);
        ctxDR.lineTo(240, 10);
        ctxDR.lineTo(245, 25);
        ctxDR.moveTo(10, 240);
        ctxDR.lineTo(220, 240);
        ctxDR.moveTo(25, 245);
        ctxDR.lineTo(10, 240);
        ctxDR.lineTo(25, 235);
        ctxDR.stroke();
        ctxDR.setLineDash([5,2]);
        ctxDR.moveTo(260,220);
        ctxDR.lineTo(220, 220);
        ctxDR.lineTo(220, 260);
        ctxDR.stroke();
        ctxDR.fillStyle = "#05fe05";
        ctxDR.fillText('bottom', 230, 140);
        ctxDR.fillText('right', 100, 255);
        ctxDR.closePath();
        ctxDR.fillStyle = "#000";
        ctxDR.fillText('viewPort', 15, 30);
        ctxDR.fillText('Element', 125, 85);
    </script>


<div class="show">使用前，使用css清除浏览器默认的padding和margin值，避免浏览器默认值带来的影响
*{
            margin: 0;
            padding: 0;
        }
但返回值还是会有一些底层渲染和二进制转化带来的误差
  const box=document.querySelector('.box');
  const boxRect=box.getBoundingClientRect();
  console.log(boxRect.width);//eg: 309.6000061035156
  console.log(boxRect.left);
</div>


        </div>
    </div>
    <div class="post-nav">
        
            <div class="post-prev ">
                <a href="/blog/2023/10/13/C%E8%AF%AD%E8%A8%80%E5%9B%9E%E9%A1%BE/">上一篇：C语言</a>
            </div>
            
            
                <div class="post-next">
                    <a href="/blog/2023/05/25/xml/">下一篇：xml </a>
                </div>
                 
    </div>
    <div class="container">
        <!--设计来源于B站-季夏小贞-->
        <div class="bigHead"></div>
        <div class="ears"></div>
        <div class="body"></div>
        <div class="paws-front"></div>
        <div class="paws-back"></div>
        <div class="details"></div>
        <div class="tail"></div>
        <div class="sleep">
          <span class="s1">z</span>
          <span class="s2">z</span>
          <span class="s3">z</span>
          <span class="s4">z</span>
          <span class="s5">z</span>
        </div>
    </div>
</div>
<div class="right-menu">
    <a class="iconfont backTop" href="javascript:">&#xe655;</a>
    <div class="husky"></div>
  </div>
</div>

<script src="/blog/js/jquery.min.js"></script>
<script src="/blog/js/jquery.bumpytext.js"></script>
<script src="/blog/js/index.js"></script>
<script src="/blog/js/highlight.min.js"></script>
<script src="/blog/js/highlightjs-line-numbers.min.js"></script>
<script src="/blog/js/article.js"></script>

</body></html>