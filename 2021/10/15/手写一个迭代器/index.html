<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
    
<link rel="stylesheet" href="/css/common.css">

   

<title>文章</title>
<link rel="stylesheet" href="https://at.alicdn.com/t/font_2856826_bu73u0ahu7a.css">

<link rel="stylesheet" href="/css/index.css">
<link rel="stylesheet" href="/css/article.css">


<link rel="stylesheet" href="http://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/styles/base16/atelier-cave.min.css">

<meta name="generator" content="Hexo 5.4.0"></head>
<body>
<div class="navigation">
    <div class="card">
        <div class="head">
            <img src="/images/head.jpg"  alt="头不见了.." title="狗">
        </div>
        <div class="card-text">
            <p>(ー`´ー)</p>
            <p>那不是bug，是彩蛋</p>
        </div> 
    </div>
    <ul class="label">
        
        <li><a href="/index">首页</a></li>
        
        <li><a href="/life">日常</a></li>
        
        <li><a href="/record">一句</a></li>
        
        <li><a href="/message">留言</a></li>
        
        <li><a href="/about">关于</a></li>
          
    </ul>
    
        <ul class="tag">
            <li>#Element</li>
            <li>#Jquery</li>
            <li>#css</li>
            <li>#射频</li>
            <li>#5G通讯</li>
            <li>#PCB</li>
            <li>#防火墙</li>
            <li>#C</li>
            <li>#html</li>
            <li>#硬件</li>
            <li>#javaScript</li>
            <li>#服务器</li>
            <li>#CentOS</li>
            <li>#Linux</li>
            <li>#python</li>
            <li>#XPpose</li>
        </ul>
   
    <ul class="rose">
    <li>Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a></li>
    <li>License  <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></li>
    <li>Copyright2021&nbsp;by&nbsp;shiwi</li>
</ul>
</div>
<div class="menu-btn closed"> 
    <div class="menu-line"></div>
    <div class="menu-line"></div>
    <div class="menu-line"></div>
</div>
<div class="second-main">
    <div class="motto">
        <p> //sunny forever<br />
            while(life&lt;end){<br />
               love++;<br />
               beAwesome :)} </p>
     </div>
     <div class="second-content">
        <div class="article">
        <h1 class="title">手写一个迭代器</h1>
        <div class="art_infor">
            <div><span><span class="iconfont icon-zishu-jzl"></span>字数：1893</span>
            <span><span class="iconfont icon-riqi"></span>写于：2021-10-15</span></div>
            <div><span><span class="iconfont icon-zuixinnew3"></span>最新更新：2021-10-20</span>
            <span><span class="iconfont icon-shijian"></span>阅读本文预计花费您6分钟</span></div>
        </div>
        <div class="art_content">
        <h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><p>迭代器(iterator)是一种可以为各种不同的数据结构提供统一遍历操作的接口，JAVA、C++、Python、PHP等很多语言都有迭代器的概念，对象只要部署了iterator接口，就可以进行遍历操作(如用for语句进行遍历)。</p>
<h3 id="迭代器的遍历"><a href="#迭代器的遍历" class="headerlink" title="迭代器的遍历"></a>迭代器的遍历</h3><p>迭代器遍历的原理是这样的：</p>
<ol>
<li>创建一个指针对象，指向当前数据结构的起始位置;</li>
<li>调用指针对象的next方法，指针指向数据结构的第一个成员;</li>
<li>重复调用next方法，指针后移动，直至指向最后一个成员;</li>
</ol>
<p>以最常见的遍历数组为例：我们可以用for…of等语句对其进行遍历，是因为数组中原生内置了iterator接口。</p>
<pre><code> const songs=['夜曲','手写的从前','反方向的钟','晴天','最长的电影'];
    console.log(songs);</code></pre>
<p>重复调用next()方法，该方法会依次遍历数组成员并返回多个包含done和value属性的对象，遍历完数组后，再返回一个done属性值为true,value属性值为undefined的对象，表示数组遍历结束。</p>
<p>在JAVAScript中，原生自带iterator接口的数据结构有：<br/>
<span class="tips">Array</span>、<span class="tips">Map</span>、<span class="tips">Set</span>、<span class="tips">String</span>、<span class="tips">TypedArray</span>、<span class="tips">函数的 arguments 对象</span>、<span class="tips">NodeList 对象</span>
</p>

<h3 id="自定义遍历对象"><a href="#自定义遍历对象" class="headerlink" title="自定义遍历对象"></a>自定义遍历对象</h3><p>对于没有内置iterator接口的数据结构，可以仿照其原理，手写一个iterator接口，并且自定义需要遍历或者允许被遍历的内容。</p>
<p>按照其原理，添加iterator接口的步骤分为:</p>
<ol>
<li>添加Symbol.iterator属性,它是以一个函数的形式包含；</li>
<li>在其中添加next()方法;</li>
<li>next()方法会依次返回一个包含done和value属性的对象；</li>
<li>如果遍历结束，则返回一个done属性值为true,value属性值为undefined的对象;</li>
</ol>
完整代码：
<pre><code> //遍历输出对象的songs属性
        const Rapper=&#123;
            name:'王以太',
            shows:['Chengdu','Hangzhou','Shenzhen'],
            songs:['三思而后行','阿司匹林','童言无忌','目不转睛','人间天堂'],
            [Symbol.iterator]()&#123;
                let index=0;//索引号
                return&#123;
                    next: ()=>&#123;
                        if(index< this.songs.length)&#123;
                            const result=&#123;
                                value:this.songs[index],
                                done:false&#125;;
                                index++;
                                return result;
                            &#125;
                            else&#123;
                                return&#123;
                                    value:undefined,
                                    done:true
                                &#125;
                            &#125;
                        &#125;
                    &#125;
                &#125;
            &#125;;
          //遍历输出
        for(let m of Rapper)&#123;
        console.log(m);
    &#125;
</code></pre>
        </div>
    </div>
    <div class="post-nav">
        
            <div class="post-prev ">
                <a href="/2021/10/15/vim%E7%BC%96%E8%BE%91%E5%99%A8/">上一篇：vim笔记</a>
            </div>
            
            
                <div class="post-next">
                    <a href="/2021/10/13/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">下一篇：正则表达式 </a>
                </div>
                 
    </div>
    <div class="container">
        <div class="bigHead"></div>
        <div class="ears"></div>
        <div class="body"></div>
        <div class="paws-front"></div>
        <div class="paws-back"></div>
        <div class="details"></div>
        <div class="tail"></div>
        <div class="sleep">
          <span class="s1">z</span>
          <span class="s2">z</span>
          <span class="s3">z</span>
          <span class="s4">z</span>
          <span class="s5">z</span>
        </div>
    </div>
</div>
<div class="left-menu">
    <a class="iconfont backTop" href="javascript:">&#xe655;</a>
    <div class="husky"></div>
  </div>
</div>

<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.bumpytext.js"></script>
<script src="/js/main.js"></script>


    <script src="http://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/highlight.min.js"></script>
    <script src="http://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.8.0/dist/highlightjs-line-numbers.min.js"></script>
    <script>
        //代码高亮初始化
        hljs.initHighlightingOnLoad();
        hljs.initLineNumbersOnLoad();
        //代码复制功能
        let pres=document.querySelectorAll('pre');
        for(let i=0;i<pres.length;i++){
        var copyBtn=document.createElement('span');
        copyBtn.innerText="copy";
        pres[i].appendChild(copyBtn);
        let codes=pres[i].querySelector('code').innerText;
        copyBtn.addEventListener("click",function(){
        let input=document.createElement('textarea');
        pres[i].appendChild(input);
        input.value=codes;
        input.select(); // 选中文本
        document.execCommand("copy"); // 执行浏览器复制命令
        pres[i].removeChild(input);
},false)
}
        </script>
    

</body>









</html>