<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="shiwi"><meta name="copyright" content="SHIWIVI"><link rel="shortcut icon" href="/blog/images/favicon.ico" type="image/x-icon"><style>.preload{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:100}.text{margin-bottom:10px;color:#00cff3;text-shadow:0 0 3px #00cff3;font-size:20px}.text span{display:inline-block}.dance{animation:dance .8s linear}.text span:nth-child(1){animation-delay:0s}.text span:nth-child(2){animation-delay:.1s}.text span:nth-child(3){animation-delay:.2s}.text span:nth-child(4){animation-delay:.3s}.text span:nth-child(5){animation-delay:.4s}.text span:nth-child(6){animation-delay:.5s}.text span:nth-child(7){animation-delay:.6s}.text span:nth-child(8){animation-delay:.7s}.text span:nth-child(9){animation-delay:.8s}.text span:nth-child(10){animation-delay:.9s}@keyframes dance{0%{transform:translateY(0)}50%{transform:translateY(-20px)}100%{transform:translateY(0)}}.loading{width:80%;max-width:260px;height:6px;background-color:#e1e4e8;border-radius:6px}.bar{display:flex;height:100%;background:linear-gradient(90deg,#ffd33d,#ea4aaa 10%,#b34bff 30%,#01feff 51%,#ffb33d 68%,#ea4aaa 85%,#b34bff);background-size:300% 100%;animation:bar 2s linear infinite}@keyframes bar{0%{background-position:100%}100%{background-position:0}}</style><body><div class="preload"><div class="text"><span>L</span> <span>o</span> <span>a</span> <span>d</span> <span>i</span> <span>n</span> <span>g</span> <span>.</span> <span>.</span> <span>.</span></div><div class="loading"><span class="bar"></span></div></div><script>let texts=document.querySelector('.text').querySelectorAll('span');let timer=setInterval(()=>{texts.forEach((item)=>{item.classList.toggle("dance")})},1700);window.onload=function(){clearInterval(timer);document.querySelector('.preload').style="display:none;"}</script><title>SHIWIVI-文章</title>
<link rel="stylesheet" href="https://at.alicdn.com/t/font_2856826_bu73u0ahu7a.css">

<link rel="stylesheet" href="/blog/css/index.css">
<link rel="stylesheet" href="/blog/css/article.css">
<link rel="stylesheet" href="/blog/css/atelier-cave.min.css">

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/blog/atom.xml" title="SHWIVI's blog" type="application/atom+xml">
</head>
<body>
<div class="nav">
    <div class="card">
        <div class="head">
            <img src="/blog/images/head.jpg"  alt="头不见了.." title="狗">
        </div>
        <div class="cardText">
            <p>(ー`´ー)</p>
            <p>那不是bug，是彩蛋</p>
        </div> 
    </div>
    <ul class="label">
        
        <li><a href="/blog/index.html">首页</a></li>
        
        <li><a href="/blog/life">日常</a></li>
        
        <li><a href="/blog/record">一句</a></li>
        
        <li><a href="/blog/message">留言</a></li>
        
        <li><a href="/blog/about">关于</a></li>
          
    </ul>
        <ul class="tag">
            <li>#Document</li>
            <li>#Java</li>
            <li>#css</li>
            <li>#Life</li>
            <li>#Lua</li>
            <li>#PCB</li>
            <li>#Shell</li>
            <li>#C</li>
            <li>#html</li>
            <li>#硬件</li>
            <li>#javaScript</li>
            <li>#Firewall</li>
            <li>#Security</li>
            <li><a href="/blog/tags/Linux">#Linux</a></li>
            <li>#Python</li>
            <li>#Serve</li>
            <li>#Web</li>
        </ul>
    <div class="rsstag"><a href="/blog/atom.xml"><span class="iconfont icon-rss"></span>RSS订阅</a></div>
<div class="flower">
<?xml version="1.0" encoding="UTF-8"?>
<svg width="84.6px" height="70.5px" viewBox="0 0 254 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<title>窗</title>
<desc>Created with Sketch.</desc>
<defs></defs>
<g id="植物" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g id="Artboard" transform="translate(-885.000000, -503.000000)">
        <g id="植物-紫色盆" transform="translate(882.000000, 500.000000)">
            <ellipse id="Oval-12" fill="#B3B7C7" cx="140.5" cy="137" rx="39.5" ry="6"></ellipse>
            <g id="Group-5">
                <path d="M131.5,149 C137.746054,149 138.400559,136.953074 140.297813,118.503702 C141.504079,106.77367 149.145158,88.1140929 147,75 C142.297813,46.2539062 153.271934,32.5660626 150.170125,19.4282488 C148.031314,10.3692495 142.862042,3 131.5,3 C123.603887,3 113.698654,6.59314895 110.722909,11.2157433 C103.206874,22.8913341 114,46.5137576 114,75 C114,90.4435309 122.495151,106.751425 123.699377,118.476362 C125.595832,136.941172 125.250862,149 131.5,149 Z" id="Oval-11" fill="#BAC4F6"></path>
                <path d="M135.5,146.5 C132.598908,121.877878 130.965369,104.566553 130.599381,94.5660242 C130.050399,79.5652312 132.963841,77.0580598 132.164069,55.3464601 C131.630888,40.8720602 130.242865,30.4232402 128,24" id="Line-15" stroke="#FFFFFF" stroke-width="2" opacity="0.800892857" stroke-linecap="square"></path>
                <path d="M77.0442201,163.336077 C84.2239219,163.336077 101.067658,131.237823 101.067658,92.025606 C101.067658,52.8133888 90.9057581,-2.32627732 72.6560979,17.2440872 C50.0508064,41.4852946 69.5871262,36.5862429 74.0442201,63.8595149 C75.572858,73.2133576 77.0442201,94.5993942 77.0442201,104.613421 C77.0442201,143.825638 69.8645184,163.336077 77.0442201,163.336077 Z" id="Oval-9" fill="#BAC4F6" transform="translate(81.510722, 88.251316) rotate(-43.000000) translate(-81.510722, -88.251316) "></path>
                <path d="M42.5,50.5 C47.5132933,48.8699207 59.3816332,57.6317857 78.1050199,76.785595 C96.8284065,95.9394043 113.960067,116.844206 129.5,139.5" id="Line-17" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M155.281006,152.144255 C162.116643,152.144255 178.153197,121.584207 178.153197,84.2511084 C178.153197,72.6051871 184.354199,51.8242671 182.531201,39.8465879 C178.51025,13.4276595 163.058175,0.233079666 151.10317,13.0532528 C129.581164,36.1327785 143.297279,29.7382802 147.540781,55.7045685 C148.996164,64.6101585 153.500382,80.3852665 153.500382,89.9194035 C153.500382,127.252502 148.445368,152.144255 155.281006,152.144255 Z" id="Oval-9-Copy-2" fill="#E9EDFD" transform="translate(161.092971, 80.123972) scale(-1, 1) rotate(-20.000000) translate(-161.092971, -80.123972) "></path>
                <path d="M180.5,34.5 C181.290102,21.4892162 175.746138,28.9223292 163.868108,56.7993391 C157.546037,71.6368512 150.532373,85.3308057 144.827114,101.881203 C141.023608,112.914801 138.581237,128.787733 137.5,149.5" id="Line-20" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M60.3426107,183.894782 C69.2498271,183.894782 90.1463498,156.072081 90.1463498,122.083011 C90.1463498,88.0939419 67.5408019,29.4364067 54.8986583,57.2625442 C45.0326912,78.978146 51.0912584,74.0282851 56.6207779,97.6687014 C58.5172227,105.776593 67.8616068,124.363423 67.8616068,133.043561 C67.8616068,167.032631 51.4353942,183.894782 60.3426107,183.894782 Z" id="Oval-9-Copy" fill="#BAC4F6" transform="translate(69.895982, 116.944107) rotate(-71.000000) translate(-69.895982, -116.944107) "></path>
                <path d="M24.5,109.5 C22.4991751,103.669523 35.0833631,105.49608 62.2525641,114.979669 C79.4278854,120.974828 92.103247,119.378882 106.278649,126.191831 C111.777518,128.834684 120.517968,134.937407 132.5,144.5" id="Line-19" stroke="#FFFFFF" stroke-width="2" opacity="0.595424107" stroke-linecap="square"></path>
                <path d="M169.495543,159.559977 C178.40276,159.559977 199.299282,131.737276 199.299282,97.7482062 C199.299282,85.7856682 202.004463,66.329956 197.824033,53.1018748 C190.126639,28.745108 172.2443,14.8950801 164.051591,32.9277389 C154.185624,54.6433407 160.244191,49.6934798 165.77371,73.3338961 C167.670155,81.4417878 177.014539,100.028618 177.014539,108.708756 C177.014539,142.697825 160.588327,159.559977 169.495543,159.559977 Z" id="Oval-9-Copy-3" fill="#BAC4F6" transform="translate(179.479352, 92.134636) scale(-1, 1) rotate(-43.000000) translate(-179.479352, -92.134636) "></path>
                <path d="M213.5,60.5 C209.183273,60.8948914 201.740861,65.4428024 191.172763,74.1437328 C175.320617,87.1951284 177.797205,83.2393994 161.560337,103.262986 C150.735758,116.612043 142.715646,131.024381 137.5,146.5" id="Line-21" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M81.1425752,168.630026 C85.1025169,165.536181 98.2051544,147.96348 98.2051544,111.236918 C98.2051544,74.5103552 86.0176544,46.7369177 70.0176544,46.7369177 C54.0176544,46.7369177 59.5351666,70.3889964 66.8400325,93.0530589 C69.6371249,101.731312 78.9791535,122.814465 81.0032985,132.88325 C84.2653955,149.110029 78.6989273,170.539213 81.1425752,168.630026 Z" id="Oval-10" fill="#E9EDFD" transform="translate(78.936475, 107.743055) rotate(-52.000000) translate(-78.936475, -107.743055) "></path>
                <path d="M39.5,84.5 C46.5402399,84.832105 55.9862242,87.7506309 67.8379528,93.2555776 C85.6155457,101.512998 79.9127462,96.6348296 100.298442,112.739947 C113.888906,123.476691 125.956092,135.063376 136.5,147.5" id="Line-18" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M194.823347,177.534556 C197.785465,175.220296 209.085075,165.125173 213.530819,146.109724 C215.496552,137.701844 211.555235,124.000271 211.555235,111.853141 C211.555235,72.2337887 199.639103,43.8487815 182.378853,43.8487815 C165.118604,43.8487815 168.053621,58.2764613 175.933859,82.7256721 C183.814096,107.174883 191.693317,118.61017 193.876895,129.472028 C197.395933,146.976919 192.187224,179.594121 194.823347,177.534556 Z" id="Oval-10-Copy-2" fill="#E9EDFD" transform="translate(191.881132, 110.738214) scale(-1, 1) rotate(-52.000000) translate(-191.881132, -110.738214) "></path>
                <path d="M237.5,84.5 C231.839918,82.6252532 222.387737,84.7837206 209.143456,90.9754021 C189.277034,100.262925 198.344222,96.9653923 174.587666,113.911421 C158.749962,125.208774 147.387407,137.071634 140.5,149.5" id="Line-22" stroke="#FFFFFF" stroke-width="2" opacity="0.785044643" stroke-linecap="square"></path>
                <path d="M102.095097,154.049614 C106.979303,150.233654 123.140143,128.559423 123.140143,83.2607523 C123.140143,37.9620813 108.108037,3.70622602 88.3735811,3.70622602 C68.639125,3.70622602 75.4444439,32.8787829 84.4542911,60.8327171 C87.9042347,71.5365054 99.4267255,97.5405402 101.923313,109.959415 C105.946795,129.97358 99.0810936,156.404412 102.095097,154.049614 Z" id="Oval-10-Copy" fill="#E9EDFD" transform="translate(99.374086, 78.951409) rotate(-21.000000) translate(-99.374086, -78.951409) "></path>
                <path d="M70.5,27.5 C77.9697854,36.2141564 84.664658,44.2949462 90.5846178,51.7423694 C99.4645574,62.9135043 102.309139,65.8595669 108.078018,74.773869 C113.846897,83.6881711 108.232283,69.1486166 118.500716,94.8794382 C125.346337,112.033319 129.012765,128.573507 129.5,144.5" id="Line-16" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M193.001521,189.153265 C198.929205,189.153265 212.83568,162.652399 212.83568,130.278124 C212.83568,97.9038493 204.210737,49.7003434 189.378612,68.5372278 C174.540517,87.3816949 180.150684,86.5530431 183.830536,109.070321 C185.092606,116.793013 193.001521,132.403088 193.001521,140.670839 C193.001521,173.045114 187.073837,189.153265 193.001521,189.153265 Z" id="Oval-9-Copy-4" fill="#BAC4F6" transform="translate(196.248002, 126.727326) scale(-1, 1) rotate(-73.000000) translate(-196.248002, -126.727326) "></path>
                <path d="M234.5,116.5 C229.435614,115.997419 220.043174,117.148484 206.322678,119.953197 C185.741934,124.160265 185.201799,123.9696 168.145826,131.063968 C156.775178,135.793546 148.226569,140.93889 142.5,146.5" id="Line-23" stroke="#FFFFFF" stroke-width="2" opacity="0.733426339" stroke-linecap="square"></path>
            </g>
            <g id="Group-4" transform="translate(101.000000, 137.000000)">
                <path d="M0,0 C11.7955729,2 24.5052083,3 38.1289062,3 C51.7526042,3 65.3763021,2 79,0 L71.2109375,75.3409091 C61.9375,77.1136364 51.8945312,78 41.0820312,78 C30.2695313,78 19.4570312,77.1136364 8.64453125,75.3409091 L0,0 Z" id="Rectangle-9" fill="#FCDCCF"></path>
                <path d="M59.2621996,2.19791001 C63.6483775,1.86496527 70.2276443,1.1323286 79,0 L71.2109375,75.3409091 C63.3055851,76.5844933 57.2271178,77.3450382 52.9755357,77.6225437 L59.2621996,2.19791001 Z" id="Rectangle-9" fill="#ECC6B6"></path>
                <path d="M0,0 C10.9588352,1.33333333 23.3572727,2 37.1953125,2 C51.0333523,2 64.9682481,1.33333333 79,0 L76.7909585,21.3672948 L40.573652,23.0934676 L2.38711382,20.8047516 L0,0 Z" id="Rectangle-9" fill="#F3B096"></path>
            </g>
        </g>
    </g>
</g>
</svg>
</div>

</div>
<div class="menuBtn closed"> 
    <div class="menu-line"></div>
    <div class="menu-line"></div>
    <div class="menu-line"></div>
</div>
<div class="nightSky"><!--当关闭夜间背景模式时，子元素将在一段延时后才会被清除--></div>
<div class="main">
    <div class="msg">
        <div class="msgText"></div>
        <div class="msgBar"></div>
    </div>
    <div class="motto">
        <p> //sunny forever<br />
            while(life&lt;end){<br />
               love++;<br />
               beAwesome :)} </p>
     </div>
     <div class="mainContent">
    <div class="canvasWrapper"></div>
<div class="setWrapper">
    <ul class="setMenu">
        <div id="setBtn" class="setButton"><</div>
        <li class="searchContainer">
            <input id="searchInput" class="localSearch" placeholder="搜索..." type="search" >
            <span class="searchIco"></span>
        </li>
        <li id="toggleItem">
        主题：<span class="itemIco sun"></span>
        </li>
        <li class="setSize">
            <span id="increaseFontSize">+</span>
            <span class="fontSizeNum"></span>
            <span id="reduceFontSize">-</span>
        </li>
        <li id="clearBack">清除背景</li>
        <li id="disableBack">禁用背景</li>
    </ul> 
</div>
    <div class="resultContainer">
        <div id="searchResult" class="displayResult"></div>
    </div>
    <div class="tocWrapper"><div class="tocBtn">目 录</div><div class="tocBox"><!--tocBox用于容纳生成在toc外的目录--><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%96%87%E6%9C%AC"><span class="toc-number">1.</span> <span class="toc-text">输出文本</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#echo%E6%89%93%E5%8D%B0%E6%96%87%E6%9C%AC"><span class="toc-number">1.1.</span> <span class="toc-text">echo打印文本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#printf%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%89%93%E5%8D%B0%E6%96%87%E6%9C%AC"><span class="toc-number">1.2.</span> <span class="toc-text">printf格式化打印文本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shuf%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8E%92%E5%88%97-shuffles"><span class="toc-number">1.3.</span> <span class="toc-text">shuf生成随机字符串排列(shuffles)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#seq%E7%94%9F%E6%88%90%E8%BF%9E%E7%BB%AD%E6%95%B0%E5%AD%97%E9%98%9F%E5%88%97"><span class="toc-number">1.4.</span> <span class="toc-text">seq生成连续数字队列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#yes%E8%BE%93%E5%87%BA%E8%BF%9E%E7%BB%AD%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.5.</span> <span class="toc-text">yes输出连续字符串</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">文本处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#grep%E6%95%B0%E6%8D%AE%E6%9F%A5%E6%89%BE"><span class="toc-number">2.1.</span> <span class="toc-text">grep数据查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sort%E6%8E%92%E5%BA%8F%E5%A4%84%E7%90%86"><span class="toc-number">2.2.</span> <span class="toc-text">sort排序处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#wc%E7%BB%9F%E8%AE%A1%E5%AD%97%E6%95%B0-%E5%AD%97%E8%8A%82%E6%95%B0-%E8%A1%8C%E6%95%B0"><span class="toc-number">2.3.</span> <span class="toc-text">wc统计字数&#x2F;字节数&#x2F;行数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uniq%E5%88%A0%E9%99%A4%E9%82%BB%E8%BF%91%E9%87%8D%E5%A4%8D%E8%A1%8C-uniquify"><span class="toc-number">2.4.</span> <span class="toc-text">uniq删除邻近重复行(uniquify)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tr%E6%9B%BF%E6%8D%A2-%E5%88%A0%E9%99%A4%E5%8C%B9%E9%85%8D%E5%AD%97%E7%AC%A6"><span class="toc-number">2.5.</span> <span class="toc-text">tr替换&#x2F;删除匹配字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cut%E6%96%87%E6%9C%AC%E6%88%AA%E5%8F%96"><span class="toc-number">2.6.</span> <span class="toc-text">cut文本截取</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">3.</span> <span class="toc-text">格式控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#numfmt%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA%E6%95%B0%E5%AD%97"><span class="toc-number">3.1.</span> <span class="toc-text">numfmt格式化输出数字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#expand%E5%B0%86%E5%88%B6%E8%A1%A8%E7%AC%A6%E8%BD%AC%E6%8D%A2%E4%B8%BA%E7%A9%BA%E6%A0%BC"><span class="toc-number">3.2.</span> <span class="toc-text">expand将制表符转换为空格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#unexpand%E5%B0%86%E7%A9%BA%E6%A0%BC%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%88%B6%E8%A1%A8%E7%AC%A6"><span class="toc-number">3.3.</span> <span class="toc-text">unexpand将空格转换为制表符</span></a></li></ol></li></ol></div></div>
        <div class="article">
        <h1 class="title">Linux文本处理</h1>
        <div class="art-info">
            <div><span><span class="iconfont icon-zishu-jzl"></span>字数：8029</span>
            <span><span class="iconfont icon-riqi"></span>写于：2021-12-29</span></div>
            <div><span><span class="iconfont icon-zuixinnew3"></span>最新更新：2022-01-23</span>
            <span><span class="iconfont icon-shijian"></span>阅读本文预计花费您23分钟</span></div>
        </div>
        <div class="art-content">
        <h3 id="输出文本"><a href="#输出文本" class="headerlink" title="输出文本"></a>输出文本</h3><h4 id="echo打印文本"><a href="#echo打印文本" class="headerlink" title="echo打印文本"></a>echo打印文本</h4><p>echo命令通常有多个版本，默认情况下通常会优先使用shell的内置版本，这里的命令语法是GNU coreutils包中的语法，但通常shell内置的echo命令也支持以下语法，如果需要使用GNU coreutils包中的echo命令，可以使用env(env echo…)来调用</p>
<p><span class="strong">echo [选项] [字符串]</span></p>
<ul>
<li>默认情况下，指定多个字符串时，每个字符串之间会有一个空格，所有字符串输出完毕后会有一个换行符</li>
<li>-n 不输出最后的换行符</li>
<li>-e 启用转义字符</li>
</ul>
<p>echo支持以下转义字符：</p>
<div class="table">

<table>
<thead>
<tr>
<th>字符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>\a</td>
<td>警告铃</td>
</tr>
<tr>
<td>\b</td>
<td>退格</td>
</tr>
<tr>
<td>\c</td>
<td>终止输出，所有该转义字符之后的字符串将不被输出，类似于ctrl+c</td>
</tr>
<tr>
<td>\e</td>
<td>表示esc(Escape Character)，常用来引导控制终端输出格式</td>
</tr>
<tr>
<td>\f</td>
<td>换页</td>
</tr>
<tr>
<td>\n</td>
<td>换行</td>
</tr>
<tr>
<td>\r</td>
<td>回车</td>
</tr>
<tr>
<td>\t</td>
<td>水平制表符</td>
</tr>
<tr>
<td>\v</td>
<td>垂直制表符</td>
</tr>
<tr>
<td>\\</td>
<td>输出反斜线</td>
</tr>
<tr>
<td>\0nnn</td>
<td>八进制数nnn(0-3位八进制数字)</td>
</tr>
<tr>
<td>\nnn</td>
<td>八进制数nnn(1-3位八进制数字)</td>
</tr>
<tr>
<td>\xhh</td>
<td>十六进制数hh(1位或2位十六进制数)</td>
</tr>
</tbody></table>
</div>

<h4 id="printf格式化打印文本"><a href="#printf格式化打印文本" class="headerlink" title="printf格式化打印文本"></a>printf格式化打印文本</h4><p><span class="strong">printf “格式” 参数(常量或变量)…</span></p>
<p>printf命令支持的格式字符串和C语言基本一致，有略微不同：</p>
<ul>
<li>命令会根据需要重复使用格式，并赋予所有参数，如：printf %.4d 1 2，参数1和2都会被给予格式%.4d，即便%.4d只指定了一个，输出为：00010002</li>
<li>如果指定了格式但没有给参数，命令会根据上下文将参数赋值为null(字符串)或0(数值)，如：printf “aa%sbb%dcc”，输出为aabb0cc，对于格式%s填充值为null(不打印任何字符)，对于格式%d填充值0</li>
</ul>
<div class="show">1. 输出字符串
printf "%s %s" aa bb
2. 输出变量
printf 用户目录：%s $HOME
</div>

<h4 id="shuf生成随机字符串排列-shuffles"><a href="#shuf生成随机字符串排列-shuffles" class="headerlink" title="shuf生成随机字符串排列(shuffles)"></a>shuf生成随机字符串排列(shuffles)</h4><p>该命令可以用来随机输出指定的文本，也可以用来生成随机值</p>
<p><span class="strong">shuf [选项] [文件]</span></p>
<ul>
<li>-e 将每个输入的参数都视为一个本文行</li>
<li>-i 最小值-最大值：随机生成该区间之间的值(无符号整数)</li>
<li>-n 值：指定输出次数，默认为输入多少个文本，就输出多少次</li>
<li>-o 文件名：将输出结果写入到文件中，而不打印到屏幕</li>
<li>-r 生成的随机行可以重复</li>
<li>-z 行结束符为NUL，而非默认的换行符</li>
</ul>
<div class="show">1.抽奖系统(根据名单)
shuf &gt;&gt;EOF
name1
name2
name3
EOF
该命令等价于
shuf -e name1 name2 name3
以上命令会将输入的字符串按随机顺序输出，如果限制为只输出1个，则命令修改为：
shuf -n 1 -e name1 name2 name3
2. 随机抛5次硬币
shuf -r -n 5 -e "正面" "反面"
3.随机2-10之间的值
shuf -i 2-10
</div>

<h4 id="seq生成连续数字队列"><a href="#seq生成连续数字队列" class="headerlink" title="seq生成连续数字队列"></a>seq生成连续数字队列</h4><p>seq 用来生成一系列连续的数字，它可以指定数字生成的格式、增量，方便用户在脚本和命令行中，不使用循环就生成具有一定规律的数字，常用来搭配其他信息生成一些连续的字符串作为文件名等</p>
<p><span class="strong">seq [选项] [起始值] [增量] 结束值</span></p>
<ul>
<li>默认情况下，每个数字都将被单独打印一行</li>
<li>如果不指定起始值或增量，则默认为1</li>
<li>增量的值不能为0，需要重复输出某个值应当使用yes命令</li>
<li>起始值、增量、结束值可以为inf，表示一个无穷大的值</li>
<li>当当前数字与增量相加，值大于结束值时，命令输出会结束，因此：seq 5 5将输出5，而seq 10 5将不会有任何输出</li>
<li>-w 将数字格式化为等宽，前补0</li>
<li>-f “格式字符串”：使用指定的格式输出数字，格式可以参考C语言print语句的输出格式要求</li>
<li>-s “分隔字符”：指定输出序列中的分隔符(默认为换行符\n)</li>
</ul>
<div class="show">1.生成 0 到 10 的序列，增量为5，且数字宽度相同
seq -w 0 5 10
输出值为：
00
05
10
2. 生成从 1.0 到 2.0，步长为 0.2 的小数序列
seq 1 0.2 2
输出值：
1
1.2
1.4
1.6
1.8
2
3. 可以通过-f选项像C语言一样指定输出格式
seq -f "%.2f" 1 0.3 2
输出值：
1.00
1.30
1.60
1.90
4. 可以搭配其他字符串
seq -f "No.%d" 1 3
输出值：
No.1
No.2
No.3
5.可以通过-s选项指定字符分隔符
seq -s ", " 1 5
输出值：
1, 2, 3, 4, 5
</div>

<h4 id="yes输出连续字符串"><a href="#yes输出连续字符串" class="headerlink" title="yes输出连续字符串"></a>yes输出连续字符串</h4><p><span class="strong">yes [字符串]</span></p>
<ul>
<li>默认情况下，该命令会一直输出字符’y’，后接一个换行符，直到命令被终止</li>
<li>如果指定了一个字符串，则会持续输出该字符串</li>
</ul>
<div class="show">该命令可以用于以下场景
1. 某些命令在执行时需要用户重复输出y或n来确认操作，可以直接使用yes命令直接给与确认操作，避免手动输入
yes | rm -ri /mydir
2. 批量输出某个内容相同的字符串，输出10个指定字符串
echo $(yes "别刷屏" | head -n 10 | tr -d '\n')
3. 快速生成大文件以测试磁盘或某些工具的处理能力
yes "某个数据" | head -n 1000 &gt; test_file.txt
</div>

<h3 id="文本处理"><a href="#文本处理" class="headerlink" title="文本处理"></a>文本处理</h3><h4 id="grep数据查找"><a href="#grep数据查找" class="headerlink" title="grep数据查找"></a>grep数据查找</h4><p>grep命令用于在指定内容或文件中查找满足匹配模式的字符的行，其输出是满足匹配模式的字符串行。该命令功能强大，支持Unix风格的正则表达式，是最常用的命令之一。</p>
<p><span class="strong">grep [参数] 匹配模式 [文件]</span> 找到或排除字符串所在行，然后输出内容</p>
<ul>
<li>-i &emsp;不区分大小写</li>
<li>-v &emsp;排除指定字符串</li>
<li>-n &emsp;显示匹配内容的行号</li>
<li>-c &emsp;显示有多少行满足匹配</li>
<li>-e &emsp;指定多个匹配条件</li>
</ul>
<div class="show">示例:
# grep man /etc/file
找到/etc/file文件中含有man的行并输出
# grep -v ^# /etc/inittab
显示/etc/inittab中除了#开头的所有行内容(#开头的内容为被注释了的内容，不想看注释)
</div>

<h4 id="sort排序处理"><a href="#sort排序处理" class="headerlink" title="sort排序处理"></a>sort排序处理</h4><p>默认情况下，sort命令按照会话指定的默认语言的排序规则对文本数据行排序，且数字也会被当作字符处理(如果要按数值排序，使用-n选项)<br><span class="strong">sort [选项] [文件名]</span><br>将文件或命令结果进行排序，默认以每行第一个字母为依据，按字母顺序排序</p>
<ul>
<li>-f&emsp;忽略大小写</li>
<li>-n&emsp;将数字作为值处理，按数值大小进行排序</li>
<li>-r&emsp;反向排序</li>
<li>-t&emsp;指定分隔符为分段依据</li>
<li>-M&emsp;按月份排序，常用于日志文件排序</li>
<li>-k n,m&emsp;指定字段为排序依据，若不指定m则判断依据为以n字段开始到本行末</li>
</ul>
<div class="show">示例：
sort /etc/passwd
按passwd文件每行首字母进行排序显示
sort -n -t ":" -k 3,3 etc/passwd
指定字段以:分隔，按第3字段(UID)值大小进行排序显示
</div>

<p>以下为可能用到的完整命令选项及其缩写</p>
<div class="table">

<table>
<thead>
<tr>
<th>命令缩写</th>
<th>完整命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-b</td>
<td>-&zwnj;-ignore-leading-blanks</td>
<td>排序时忽略起始的空白</td>
</tr>
<tr>
<td>-c</td>
<td>-&zwnj;-check</td>
<td>检查输入的数据或文件是否已排序，如果未全部排序，则打印第一个未排序的行，并以状态码1退出</td>
</tr>
<tr>
<td>-C</td>
<td>-&zwnj;-check=quiet</td>
<td>检查输入的数据或文件是否已排序，如果未全部排序，以状态码1退出，但不打印未排序的行内容</td>
</tr>
<tr>
<td>-d</td>
<td>-&zwnj;-dictionary-order</td>
<td>以通讯录方式排序，只考虑空白字符、字母、数字进行排序，忽略其他所有字符</td>
</tr>
<tr>
<td>-f</td>
<td>-&zwnj;-ignore-case</td>
<td>默认情况下，大写字母排于小写字母前，这个选项会忽略大小写</td>
</tr>
<tr>
<td>-g</td>
<td>-&zwnj;-general-number-sort</td>
<td>按数字排序(GNU建议只有别无选择时再使用该选项)，该选项会将每行数字前缀部分转换为双精度浮点数，按照：非数字开头的行、NaNs(Not a Number)、负数、正数的顺序排序(该选项处理速度比-n选项慢得多，且可能在转换浮点数时丢失信息)</td>
</tr>
<tr>
<td>-h</td>
<td>-&zwnj;-human-numeric-sort</td>
<td>按照人类可读的数字格式排序，即该选项会识别KMGTPEZYRQ等数值单位，如:1023M将排序于1G之前</td>
</tr>
<tr>
<td>-i</td>
<td>-&zwnj;-ignore-nonprinting</td>
<td>在排序时忽略非打印字符</td>
</tr>
<tr>
<td>-k pos1,pos2</td>
<td>-&zwnj;-key=POS1[,POS2]</td>
<td>排序从POS1位置开始；如果指定了POS2的话，到POS2位置结束</td>
</tr>
<tr>
<td>-M</td>
<td>-&zwnj;-month-sort</td>
<td>用三字符月份名按月份排序，如：Jan,Feb,Mar</td>
</tr>
<tr>
<td>-m</td>
<td>-&zwnj;-merge</td>
<td>合并多个多个已排序的文件，合并后的文件也是按顺序排序的，该选项会视为原文件已经排序好，只负责两个文合并时的归并排序，而不会会文件重排，速度更快</td>
</tr>
<tr>
<td>-n</td>
<td>-&zwnj;-numeric-sort</td>
<td>按字符串数值来排序（并不转换为浮点数）</td>
</tr>
<tr>
<td>-o</td>
<td>-&zwnj;-output=file</td>
<td>将排序结果写出到指定的文件中</td>
</tr>
<tr>
<td>-R</td>
<td>-&zwnj;-random-sort</td>
<td>对输入的值进行哈希处理，按生成的哈希值排序</td>
</tr>
<tr>
<td>无</td>
<td>-&zwnj;-random-source=FILE</td>
<td>指定-R参数用到的随机字节的源文件</td>
</tr>
<tr>
<td>-V</td>
<td>-&zwnj;-version-sort</td>
<td>按版本号排序，字母加数字组合将识别为版本号，且排序方法将与小数排序有所不同，如：v1,v1.4,v1.12,v1.40,v2</td>
</tr>
<tr>
<td>-r</td>
<td>-&zwnj;-reverse</td>
<td>反序排序（升序变成降序）</td>
</tr>
<tr>
<td>-S</td>
<td>-&zwnj;-buffer-size=SIZE</td>
<td>指定使用的内存大小</td>
</tr>
<tr>
<td>-s</td>
<td>-&zwnj;-stable</td>
<td>禁用最后重排序比较</td>
</tr>
<tr>
<td>-T</td>
<td>-&zwnj;-temporary-directory=DIR</td>
<td>指定一个位置来存储临时工作文件</td>
</tr>
<tr>
<td>-t</td>
<td>-&zwnj;-field-separator=SEP</td>
<td>指定一个用来区分键位置的字符</td>
</tr>
<tr>
<td>-u</td>
<td>-&zwnj;-unique</td>
<td>和-c参数一起使用时，检查严格排序；不和-c参数一起用时，仅输出第一例相似的两行</td>
</tr>
<tr>
<td>-z</td>
<td>-&zwnj;-zero-terminated</td>
<td>用NULL字符作为行尾，而不是用换行符</td>
</tr>
</tbody></table>
</div>


<h4 id="wc统计字数-字节数-行数"><a href="#wc统计字数-字节数-行数" class="headerlink" title="wc统计字数/字节数/行数"></a>wc统计字数/字节数/行数</h4><p><span class="strong">wc [选项] [文件1 文件2 …]</span></p>
<ul>
<li>-m 统计字符数</li>
<li>-c 统计字节数</li>
<li>-w 统计单词数，一个单词定义为由空白、换行符等分隔的字符串</li>
<li>-l 统计行数，命令会统计换行符的数量作为行数</li>
<li>-L 打印最长行的长度</li>
<li>如果给定多个文件，wc命令会依次打印每一个文件的数据，最后再打印一行这些文件的总合，并以total作为文件名</li>
</ul>
<div class="show">1.wc命令默认会依次显示行数、单词数、字节数、文件名
wc test.txt
输出为：
  36   80 1012 test.txt
2.查看指定的选项
wc -l test.txt
输出为：36 test.txt
3.如果不想输出文件名，可以用重定向符
wc -l &lt; test.txt
</div>

<h4 id="uniq删除邻近重复行-uniquify"><a href="#uniq删除邻近重复行-uniquify" class="headerlink" title="uniq删除邻近重复行(uniquify)"></a>uniq删除邻近重复行(uniquify)</h4><p>该命令用来用于从输入中删除相邻的重复行，只保留一个副本</p>
<p><span class="strong">uniq [选项] [输入文件] [输出文件]</span></p>
<ul>
<li>默认情况下，命令会打印输入的行，如果有相邻的重复行，则只输出一次，如果未指定输出文件，默认打印到屏幕</li>
<li>-c 在每行开头打印该行重复次数</li>
<li>-d 只打印邻近重复的行，但每行只打印一次</li>
<li>-D 只打印邻近重复的行，该行重复几次就打印几次</li>
<li>-f 值n：跳过对每行前n个字段的比较，忽略每行前n个字段的重复</li>
<li>-i 忽略大小写</li>
<li>-s 值n：跳过对每行前n个字符的比较</li>
<li>-u 只打印非重复的行，包括两个重复，但不相邻的行</li>
<li>-z 将行结束符替换为NUL，而非默认的换行符</li>
<li>-w 值n：只对每行前n个字符进行比较</li>
</ul>
<h4 id="tr替换-删除匹配字符"><a href="#tr替换-删除匹配字符" class="headerlink" title="tr替换/删除匹配字符"></a>tr替换/删除匹配字符</h4><p>tr命令用来逐字符处理字符流，对字符串进行删除、替换等操作。tr命令本身不接收要处理的字符串，因此需要通过管道符或重定向符将要处理的字符串输入给tr命令。由于是逐字符处理，因此tr命令在处理大文件时可能较慢，适合用来进行简单字符转换和清理，相当于简化版的awk</p>
<p><span class="strong">tr [选项] ‘str1’ [‘str’2]</span></p>
<ul>
<li>-d 删除指定字符，如果所输入字符串中出现了str1，删除所有str1</li>
<li>-s 删除重复字符，如果所输入字符串中有相邻的重复字符，则删除到只保留一个该字符，常用来删除连续空白字符</li>
<li>如果同时指定了str1,str2，但无选项，默认是将所输入字符串中所有str1替换为str2</li>
<li>-c或-C 需要指定str2，将所输入字符串中所有str1以外的字符替换为str2</li>
<li>-t 将str1截断到和str2的长度</li>
</ul>
<div class="show">1. 将输入中的所有小写字母转换为大写字母
echo "hello world" | tr 'a-z' 'A-Z'
2. 删除输入中的所有数字
echo "abc123def456" | tr -d '0-9'
3.将多个连续的空格压缩为一个空格
echo "hello    world" | tr -s ' '
4. 将所输入字符串中所有非字母字符替换为 *
echo "hello 123 world!" | tr -c 'a-zA-Z' '*'
输出值：
hello***world*
</div>

<h4 id="cut文本截取"><a href="#cut文本截取" class="headerlink" title="cut文本截取"></a>cut文本截取</h4><p>cut命令用于从文本文件或标准输入中按列截取部分文本<br><span class="strong">cut [选项] [文件]</span></p>
<ul>
<li>以下选项的值可以为单个数字，也可以为范围(如：2-5)，也可以为不完整的范围，如：-m表示1-m，n-表示该行第n个到该行结束</li>
<li>-b 值：按字节截取文本</li>
<li>-c 值：按字符个数截取指定文本</li>
<li>-f 值：按字段截取指定文本</li>
<li>-d “字符”：指定输入内容的字段分隔符，默认为制表符Tab</li>
<li>-s 搭配-f使用，不打印不包含字段分隔符的行，默认情况下会打印</li>
<li>-&zwnj;-output-delimiter=”字符”：搭配-f使用，指定输出内容的字段分隔符</li>
<li>-n 不要拆分多字节字符</li>
<li>-&zwnj;-complement 搭配-b、-c、-f选项使用，不打印这些区间之间的内容，即提取除指定部分以外的所有内容</li>
</ul>
<div class="show">1.截取第2-5个字符
echo "abcdefg" | cut -c 2-5
输出：bcde
2. 截取第2个字段
echo "apple,banana,cherry" | cut -d ',' -f 2
输出：banana
3. 截取文件的第二列
假设文件data.txt中有以下内容
1,John,Doe
2,Jane,Smith
执行命令：
cut -d ',' -f 2 data.txt
输出值：
John
Jane
</div>

<h3 id="格式控制"><a href="#格式控制" class="headerlink" title="格式控制"></a>格式控制</h3><h4 id="numfmt格式化输出数字"><a href="#numfmt格式化输出数字" class="headerlink" title="numfmt格式化输出数字"></a>numfmt格式化输出数字</h4><p>numfmt命令用于格式化输出数字，它可以将具体数值转换为易读格式(如：4000000000输出为4G)，或者从易读格式转换为纯数字格式(如：4G输出为4000000000)</p>
<p><span class="strong">numfmt [选项] [数字]</span></p>
<ul>
<li>如果未指定数字，命令将默认从stdin读取</li>
<li>-d 字符：使用指定字符作为字段分隔符，默认为空格</li>
<li>-&zwnj;-format=”格式字符串”:使用printf支持格式作为输出格式，格式字符串必须包含一个<span class="tips">%f</span></li>
<li>-&zwnj;-suffix=字符串：为输出的数字添加后缀，如添加单位符号，并且允许输入的数字中也携带该后缀</li>
<li>-&zwnj;-grouping 根据当前区域设置分组规则(如：是否添加千分位分隔符<span class="tips">,</span>)</li>
<li>-&zwnj;-header=值n：前n行不转换格式，直接输出</li>
<li>-&zwnj;-invalid=工作模式：当输入的数字出现错误时，可以使用该选项指定numfmt的工作模式，工作模式可以取以下值：<blockquote>
<blockquote>
<ul>
<li>abort：(默认)如果有错误的输入，立即退出命令，并返回状态码2</li>
<li>fail：如果有错误的输入，打印其警告而不是立即退出命令，继续格式化其他数字，命令最后执行完时以状态码2退出</li>
<li>warn：如果有错误的输入，打印其警告，命令最后执行完时以状态码0退出</li>
<li>ignore：无视错误的输入，不打印警告信息，命令最后执行完时以状态码0退出</li>
</ul>
</blockquote>
</blockquote>
</li>
<li>-&zwnj;-padding=值n：通过添加空格将输出数字填充到 n 个字符。如果 n 为正数，则数字将右对齐。如果 n 为负数，则数字将左对齐</li>
<li>-&zwnj;-round=方法：当值从易读格式转换为纯数字格式时，指定数字四舍五入的方法，方法可以取以下值：<blockquote>
<blockquote>
<ul>
<li>up：向上取整</li>
<li>down：向下取整</li>
<li>from-zero ：(默认)远离零的方向舍入，不论数字是正数还是负数，都会向绝对值更大的方向舍入。即对于正数，它会向上舍入；对于负数，它会向下舍入(即变得更负)</li>
<li>towards-zero：向零的方向舍入，不论数字是正数还是负数，都会向绝对值更小的方向舍入。即对于正数，它会向下舍入；对于负数，它会向上舍入（即变得更接近零）</li>
<li>nearest：四舍五入</li>
</ul>
</blockquote>
</blockquote>
</li>
<li>-&zwnj;-from=unit标准:将输入单位转换为相应数值，如果输入的值中包含K、M等单位，需要指定该选项，命令无法解析将返回错误,unit的取值参考下一个选项</li>
<li>-&zwnj;-to=unit标准：将输出值转换为相应单位，如果输出的值需要转换为K、M等单位，需要指定该选项，unit的取值如下:<blockquote>
<blockquote>
<ul>
<li>none：不执行任何转换</li>
<li>si：使用国际单位制SI进行转换，K、M、G等单位是以1000为基底的转换</li>
<li>iec：使用国际电工委员会(IEC)标准进行转换，K、M、G等单位是以1024为基底的转换，大于1024的值将被四舍五入，这不是完全标准，但被经常使用</li>
<li>iec-i：使用国际电工委员会(IEC)标准进行转换，Ki、Mi、Gi等单位是以1024为基底的转换，大于1024的值将被四舍五入</li>
<li>auto：只能用于-&zwnj;-from选项，当输入值后单位为K、M等字符时，解析为SI标准，输入值后单位为Ki、Mi等双字母字符时，解析为IEC标准</li>
</ul>
</blockquote>
</blockquote>
</li>
</ul>
<div class="show">1.将值转换为附带单位形式
numfmt --to=si 500000
输出：500k
2.将值转换为纯数字形式
numfmt --from=si 1M
输出：1000000
</div>

<h4 id="expand将制表符转换为空格"><a href="#expand将制表符转换为空格" class="headerlink" title="expand将制表符转换为空格"></a>expand将制表符转换为空格</h4><p><span class="strong">expand [选项] [文件名]</span></p>
<ul>
<li>默认情况下，命令会将所有制表符替换为8个空格</li>
<li>-t 值：指定替换后的空格数量，默认为8。值可以指定多个，使用逗号分隔，如：-t 2,4,8 表示一行中的多个制表符依次替换为指定数量的空格</li>
<li>-i 仅将每行行首的制表符转换为空格，忽略其他地方的制表符</li>
</ul>
<h4 id="unexpand将空格转换为制表符"><a href="#unexpand将空格转换为制表符" class="headerlink" title="unexpand将空格转换为制表符"></a>unexpand将空格转换为制表符</h4><p><span class="strong">unexpand [选项] [文件名]</span></p>
<ul>
<li>默认情况下，命令只会转换每行开头的空格(非空白字符之前的空格)，每8个空格会被转换为一个制表符，不足8个则不进行转换</li>
<li>-t 值：指定转换的空格数量，默认为8，可以指定多个值，如：-t 2,4,8 表示一行中的多个不同数量的空格依次替换为制表符</li>
<li>-a 转换所有空格，包括非行首的空格和不足连续8个的连续空格</li>
</ul>

        </div>
    </div>
    <div class="post-nav">
        
            <div class="post-prev ">
                <a href="/blog/2021/12/29/LinuxSed%E4%B8%8EAwk/">上一篇：sed与awk</a>
            </div>
            
            
                <div class="post-next">
                    <a href="/blog/2021/12/29/Linux%E5%91%BD%E4%BB%A4%E8%A1%A5%E5%85%85/">下一篇：Linux命令补充 </a>
                </div>
                 
    </div>
    <div class="container">
        <!--设计来源于B站-季夏小贞-->
        <div class="bigHead"></div>
        <div class="ears"></div>
        <div class="body"></div>
        <div class="paws-front"></div>
        <div class="paws-back"></div>
        <div class="details"></div>
        <div class="tail"></div>
        <div class="sleep">
          <span class="s1">z</span>
          <span class="s2">z</span>
          <span class="s3">z</span>
          <span class="s4">z</span>
          <span class="s5">z</span>
        </div>
    </div>
</div>
<div class="right-menu">
    <a class="iconfont backTop" href="javascript:">&#xe655;</a>
    <div class="husky"></div>
  </div>
</div>

<script src="/blog/js/jquery.min.js"></script>
<script src="/blog/js/jquery.bumpytext.js"></script>
<script src="/blog/js/index.js"></script>
<script src="/blog/js/highlight.min.js"></script>
<script src="/blog/js/highlightjs-line-numbers.min.js"></script>
<script src="/blog/js/article.js"></script>

</body></html>