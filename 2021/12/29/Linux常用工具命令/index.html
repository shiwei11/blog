<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="shiwi"><meta name="copyright" content="SHIWIVI"><link rel="preconnect" href="https://cdn.jsdelivr.net/"><link rel="shortcut icon" href="/blog/images/favicon.ico" type="image/x-icon"><style>.preload{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:100}.text{margin-bottom:10px;color:#00cff3;text-shadow:0 0 3px #00cff3;font-size:20px}.text span{display:inline-block}.dance{animation:dance .8s linear}.text span:nth-child(1){animation-delay:0s}.text span:nth-child(2){animation-delay:.1s}.text span:nth-child(3){animation-delay:.2s}.text span:nth-child(4){animation-delay:.3s}.text span:nth-child(5){animation-delay:.4s}.text span:nth-child(6){animation-delay:.5s}.text span:nth-child(7){animation-delay:.6s}.text span:nth-child(8){animation-delay:.7s}.text span:nth-child(9){animation-delay:.8s}.text span:nth-child(10){animation-delay:.9s}@keyframes dance{0%{transform:translateY(0)}50%{transform:translateY(-20px)}100%{transform:translateY(0)}}.loading{width:80%;max-width:260px;height:6px;background-color:#e1e4e8;border-radius:6px}.bar{display:flex;height:100%;background:linear-gradient(90deg,#ffd33d,#ea4aaa 10%,#b34bff 30%,#01feff 51%,#ffb33d 68%,#ea4aaa 85%,#b34bff);background-size:300% 100%;animation:bar 2s linear infinite}@keyframes bar{0%{background-position:100%}100%{background-position:0}}</style><body><div class="preload"><div class="text"><span>L</span> <span>o</span> <span>a</span> <span>d</span> <span>i</span> <span>n</span> <span>g</span> <span>.</span> <span>.</span> <span>.</span></div><div class="loading"><span class="bar"></span></div></div><script>let texts=document.querySelector('.text').querySelectorAll('span');let timer=setInterval(()=>{texts.forEach((item)=>{item.classList.toggle("dance")})},1700);window.onload=function(){clearInterval(timer);document.querySelector('.preload').style="display:none;"}</script><title>SHIWIVI-文章</title>
<link rel="stylesheet" href="https://at.alicdn.com/t/font_2856826_bu73u0ahu7a.css">

<link rel="stylesheet" href="/blog/css/index.css">
<link rel="stylesheet" href="/blog/css/article.css">
<link rel="stylesheet" href="/blog/css/atelier-cave.min.css">

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/blog/atom.xml" title="SHWIVI's blog" type="application/atom+xml">
</head>
<body>
<div class="nav">
    <div class="card">
        <div class="head">
            <img src="/blog/images/head.jpg"  alt="头不见了.." title="狗">
        </div>
        <div class="cardText">
            <p>(ー`´ー)</p>
            <p>那不是bug，是彩蛋</p>
        </div> 
    </div>
    <ul class="label">
        
        <li><a href="/blog/index.html">首页</a></li>
        
        <li><a href="/blog/life">日常</a></li>
        
        <li><a href="/blog/record">一句</a></li>
        
        <li><a href="/blog/message">留言</a></li>
        
        <li><a href="/blog/about">关于</a></li>
          
    </ul>
        <ul class="tag">
            <li>#Document</li>
            <li>#Java</li>
            <li>#css</li>
            <li>#Life</li>
            <li>#Lua</li>
            <li>#PCB</li>
            <li>#Shell</li>
            <li>#C</li>
            <li>#html</li>
            <li>#硬件</li>
            <li>#javaScript</li>
            <li>#Firewall</li>
            <li>#Security</li>
            <li><a href="/blog/tags/Linux">#Linux</a></li>
            <li>#Python</li>
            <li>#Serve</li>
            <li>#Web</li>
        </ul>
    <div class="rsstag"><a href="/blog/atom.xml"><span class="iconfont icon-rss"></span>RSS订阅</a></div>
<div class="flower">
<?xml version="1.0" encoding="UTF-8"?>
<svg width="84.6px" height="70.5px" viewBox="0 0 254 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<title>窗</title>
<desc>Created with Sketch.</desc>
<defs></defs>
<g id="植物" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g id="Artboard" transform="translate(-885.000000, -503.000000)">
        <g id="植物-紫色盆" transform="translate(882.000000, 500.000000)">
            <ellipse id="Oval-12" fill="#B3B7C7" cx="140.5" cy="137" rx="39.5" ry="6"></ellipse>
            <g id="Group-5">
                <path d="M131.5,149 C137.746054,149 138.400559,136.953074 140.297813,118.503702 C141.504079,106.77367 149.145158,88.1140929 147,75 C142.297813,46.2539062 153.271934,32.5660626 150.170125,19.4282488 C148.031314,10.3692495 142.862042,3 131.5,3 C123.603887,3 113.698654,6.59314895 110.722909,11.2157433 C103.206874,22.8913341 114,46.5137576 114,75 C114,90.4435309 122.495151,106.751425 123.699377,118.476362 C125.595832,136.941172 125.250862,149 131.5,149 Z" id="Oval-11" fill="#BAC4F6"></path>
                <path d="M135.5,146.5 C132.598908,121.877878 130.965369,104.566553 130.599381,94.5660242 C130.050399,79.5652312 132.963841,77.0580598 132.164069,55.3464601 C131.630888,40.8720602 130.242865,30.4232402 128,24" id="Line-15" stroke="#FFFFFF" stroke-width="2" opacity="0.800892857" stroke-linecap="square"></path>
                <path d="M77.0442201,163.336077 C84.2239219,163.336077 101.067658,131.237823 101.067658,92.025606 C101.067658,52.8133888 90.9057581,-2.32627732 72.6560979,17.2440872 C50.0508064,41.4852946 69.5871262,36.5862429 74.0442201,63.8595149 C75.572858,73.2133576 77.0442201,94.5993942 77.0442201,104.613421 C77.0442201,143.825638 69.8645184,163.336077 77.0442201,163.336077 Z" id="Oval-9" fill="#BAC4F6" transform="translate(81.510722, 88.251316) rotate(-43.000000) translate(-81.510722, -88.251316) "></path>
                <path d="M42.5,50.5 C47.5132933,48.8699207 59.3816332,57.6317857 78.1050199,76.785595 C96.8284065,95.9394043 113.960067,116.844206 129.5,139.5" id="Line-17" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M155.281006,152.144255 C162.116643,152.144255 178.153197,121.584207 178.153197,84.2511084 C178.153197,72.6051871 184.354199,51.8242671 182.531201,39.8465879 C178.51025,13.4276595 163.058175,0.233079666 151.10317,13.0532528 C129.581164,36.1327785 143.297279,29.7382802 147.540781,55.7045685 C148.996164,64.6101585 153.500382,80.3852665 153.500382,89.9194035 C153.500382,127.252502 148.445368,152.144255 155.281006,152.144255 Z" id="Oval-9-Copy-2" fill="#E9EDFD" transform="translate(161.092971, 80.123972) scale(-1, 1) rotate(-20.000000) translate(-161.092971, -80.123972) "></path>
                <path d="M180.5,34.5 C181.290102,21.4892162 175.746138,28.9223292 163.868108,56.7993391 C157.546037,71.6368512 150.532373,85.3308057 144.827114,101.881203 C141.023608,112.914801 138.581237,128.787733 137.5,149.5" id="Line-20" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M60.3426107,183.894782 C69.2498271,183.894782 90.1463498,156.072081 90.1463498,122.083011 C90.1463498,88.0939419 67.5408019,29.4364067 54.8986583,57.2625442 C45.0326912,78.978146 51.0912584,74.0282851 56.6207779,97.6687014 C58.5172227,105.776593 67.8616068,124.363423 67.8616068,133.043561 C67.8616068,167.032631 51.4353942,183.894782 60.3426107,183.894782 Z" id="Oval-9-Copy" fill="#BAC4F6" transform="translate(69.895982, 116.944107) rotate(-71.000000) translate(-69.895982, -116.944107) "></path>
                <path d="M24.5,109.5 C22.4991751,103.669523 35.0833631,105.49608 62.2525641,114.979669 C79.4278854,120.974828 92.103247,119.378882 106.278649,126.191831 C111.777518,128.834684 120.517968,134.937407 132.5,144.5" id="Line-19" stroke="#FFFFFF" stroke-width="2" opacity="0.595424107" stroke-linecap="square"></path>
                <path d="M169.495543,159.559977 C178.40276,159.559977 199.299282,131.737276 199.299282,97.7482062 C199.299282,85.7856682 202.004463,66.329956 197.824033,53.1018748 C190.126639,28.745108 172.2443,14.8950801 164.051591,32.9277389 C154.185624,54.6433407 160.244191,49.6934798 165.77371,73.3338961 C167.670155,81.4417878 177.014539,100.028618 177.014539,108.708756 C177.014539,142.697825 160.588327,159.559977 169.495543,159.559977 Z" id="Oval-9-Copy-3" fill="#BAC4F6" transform="translate(179.479352, 92.134636) scale(-1, 1) rotate(-43.000000) translate(-179.479352, -92.134636) "></path>
                <path d="M213.5,60.5 C209.183273,60.8948914 201.740861,65.4428024 191.172763,74.1437328 C175.320617,87.1951284 177.797205,83.2393994 161.560337,103.262986 C150.735758,116.612043 142.715646,131.024381 137.5,146.5" id="Line-21" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M81.1425752,168.630026 C85.1025169,165.536181 98.2051544,147.96348 98.2051544,111.236918 C98.2051544,74.5103552 86.0176544,46.7369177 70.0176544,46.7369177 C54.0176544,46.7369177 59.5351666,70.3889964 66.8400325,93.0530589 C69.6371249,101.731312 78.9791535,122.814465 81.0032985,132.88325 C84.2653955,149.110029 78.6989273,170.539213 81.1425752,168.630026 Z" id="Oval-10" fill="#E9EDFD" transform="translate(78.936475, 107.743055) rotate(-52.000000) translate(-78.936475, -107.743055) "></path>
                <path d="M39.5,84.5 C46.5402399,84.832105 55.9862242,87.7506309 67.8379528,93.2555776 C85.6155457,101.512998 79.9127462,96.6348296 100.298442,112.739947 C113.888906,123.476691 125.956092,135.063376 136.5,147.5" id="Line-18" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M194.823347,177.534556 C197.785465,175.220296 209.085075,165.125173 213.530819,146.109724 C215.496552,137.701844 211.555235,124.000271 211.555235,111.853141 C211.555235,72.2337887 199.639103,43.8487815 182.378853,43.8487815 C165.118604,43.8487815 168.053621,58.2764613 175.933859,82.7256721 C183.814096,107.174883 191.693317,118.61017 193.876895,129.472028 C197.395933,146.976919 192.187224,179.594121 194.823347,177.534556 Z" id="Oval-10-Copy-2" fill="#E9EDFD" transform="translate(191.881132, 110.738214) scale(-1, 1) rotate(-52.000000) translate(-191.881132, -110.738214) "></path>
                <path d="M237.5,84.5 C231.839918,82.6252532 222.387737,84.7837206 209.143456,90.9754021 C189.277034,100.262925 198.344222,96.9653923 174.587666,113.911421 C158.749962,125.208774 147.387407,137.071634 140.5,149.5" id="Line-22" stroke="#FFFFFF" stroke-width="2" opacity="0.785044643" stroke-linecap="square"></path>
                <path d="M102.095097,154.049614 C106.979303,150.233654 123.140143,128.559423 123.140143,83.2607523 C123.140143,37.9620813 108.108037,3.70622602 88.3735811,3.70622602 C68.639125,3.70622602 75.4444439,32.8787829 84.4542911,60.8327171 C87.9042347,71.5365054 99.4267255,97.5405402 101.923313,109.959415 C105.946795,129.97358 99.0810936,156.404412 102.095097,154.049614 Z" id="Oval-10-Copy" fill="#E9EDFD" transform="translate(99.374086, 78.951409) rotate(-21.000000) translate(-99.374086, -78.951409) "></path>
                <path d="M70.5,27.5 C77.9697854,36.2141564 84.664658,44.2949462 90.5846178,51.7423694 C99.4645574,62.9135043 102.309139,65.8595669 108.078018,74.773869 C113.846897,83.6881711 108.232283,69.1486166 118.500716,94.8794382 C125.346337,112.033319 129.012765,128.573507 129.5,144.5" id="Line-16" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M193.001521,189.153265 C198.929205,189.153265 212.83568,162.652399 212.83568,130.278124 C212.83568,97.9038493 204.210737,49.7003434 189.378612,68.5372278 C174.540517,87.3816949 180.150684,86.5530431 183.830536,109.070321 C185.092606,116.793013 193.001521,132.403088 193.001521,140.670839 C193.001521,173.045114 187.073837,189.153265 193.001521,189.153265 Z" id="Oval-9-Copy-4" fill="#BAC4F6" transform="translate(196.248002, 126.727326) scale(-1, 1) rotate(-73.000000) translate(-196.248002, -126.727326) "></path>
                <path d="M234.5,116.5 C229.435614,115.997419 220.043174,117.148484 206.322678,119.953197 C185.741934,124.160265 185.201799,123.9696 168.145826,131.063968 C156.775178,135.793546 148.226569,140.93889 142.5,146.5" id="Line-23" stroke="#FFFFFF" stroke-width="2" opacity="0.733426339" stroke-linecap="square"></path>
            </g>
            <g id="Group-4" transform="translate(101.000000, 137.000000)">
                <path d="M0,0 C11.7955729,2 24.5052083,3 38.1289062,3 C51.7526042,3 65.3763021,2 79,0 L71.2109375,75.3409091 C61.9375,77.1136364 51.8945312,78 41.0820312,78 C30.2695313,78 19.4570312,77.1136364 8.64453125,75.3409091 L0,0 Z" id="Rectangle-9" fill="#FCDCCF"></path>
                <path d="M59.2621996,2.19791001 C63.6483775,1.86496527 70.2276443,1.1323286 79,0 L71.2109375,75.3409091 C63.3055851,76.5844933 57.2271178,77.3450382 52.9755357,77.6225437 L59.2621996,2.19791001 Z" id="Rectangle-9" fill="#ECC6B6"></path>
                <path d="M0,0 C10.9588352,1.33333333 23.3572727,2 37.1953125,2 C51.0333523,2 64.9682481,1.33333333 79,0 L76.7909585,21.3672948 L40.573652,23.0934676 L2.38711382,20.8047516 L0,0 Z" id="Rectangle-9" fill="#F3B096"></path>
            </g>
        </g>
    </g>
</g>
</svg>
</div>

</div>
<div class="menuBtn closed"> 
    <div class="menu-line"></div>
    <div class="menu-line"></div>
    <div class="menu-line"></div>
</div>
<div class="nightSky"><!--当关闭夜间背景模式时，子元素将在一段延时后才会被清除--></div>
<div class="main">
    <div class="msg">
        <div class="msgText"></div>
        <div class="msgBar"></div>
    </div>
    <div class="motto">
        <p> //sunny forever<br />
            while(life&lt;end){<br />
               love++;<br />
               beAwesome :)} </p>
     </div>
     <div class="mainContent">
    <div class="canvasWrapper"></div>
<div class="setWrapper">
    <ul class="setMenu">
        <div id="setBtn" class="setButton"><</div>
        <li class="searchContainer">
            <input id="searchInput" class="localSearch" placeholder="搜索..." type="search" >
            <span class="searchIco"></span>
        </li>
        <li id="toggleItem">
        主题：<span class="itemIco sun"></span>
        </li>
        <li class="setSize">
            <span id="increaseFontSize">+</span>
            <span class="fontSizeNum"></span>
            <span id="reduceFontSize">-</span>
        </li>
        <li id="clearBack">清除背景</li>
        <li id="disableBack">禁用背景</li>
    </ul> 
</div>
    <div class="resultContainer">
        <div id="searchResult" class="displayResult"></div>
    </div>
    <div class="tocWrapper"><div class="tocBtn">目 录</div><div class="tocBox"><!--tocBox用于容纳生成在toc外的目录--><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#curl"><span class="toc-number">1.</span> <span class="toc-text">curl</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#curl%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">curl介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#curl%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.</span> <span class="toc-text">curl命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#url%E9%80%9A%E9%85%8D"><span class="toc-number">1.3.</span> <span class="toc-text">url通配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wget"><span class="toc-number">2.</span> <span class="toc-text">wget</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">2.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">2.2.</span> <span class="toc-text">命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bc%E8%AE%A1%E7%AE%97%E5%99%A8"><span class="toc-number">3.</span> <span class="toc-text">bc计算器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4-1"><span class="toc-number">3.1.</span> <span class="toc-text">命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">3.2.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">3.2.1.</span> <span class="toc-text">预定义变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">3.2.2.</span> <span class="toc-text">自定义变量</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">3.3.</span> <span class="toc-text">使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mkpasswd%E5%AF%86%E7%A0%81%E7%94%9F%E6%88%90"><span class="toc-number">4.</span> <span class="toc-text">mkpasswd密码生成</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E5%AF%86%E7%A0%81"><span class="toc-number">4.1.</span> <span class="toc-text">生成随机密码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">4.1.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4-2"><span class="toc-number">4.1.2.</span> <span class="toc-text">命令</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0%E5%AF%86%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81"><span class="toc-number">4.2.</span> <span class="toc-text">加密用户密码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-1"><span class="toc-number">4.2.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4-3"><span class="toc-number">4.2.2.</span> <span class="toc-text">命令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#time"><span class="toc-number">5.</span> <span class="toc-text">time</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#bash%E5%86%85%E5%BB%BA%E7%9A%84time"><span class="toc-number">5.1.</span> <span class="toc-text">bash内建的time</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E9%83%A8time%E5%B7%A5%E5%85%B7"><span class="toc-number">5.2.</span> <span class="toc-text">外部time工具</span></a></li></ol></li></ol></div></div>
        <div class="article">
        <h1 class="title">Linux常用工具命令</h1>
        <div class="art-info">
            <div><span><span class="iconfont icon-zishu-jzl"></span>字数：5892</span>
            <span><span class="iconfont icon-riqi"></span>写于：2021-12-29</span></div>
            <div><span><span class="iconfont icon-zuixinnew3"></span>最新更新：2024-08-01</span>
            <span><span class="iconfont icon-shijian"></span>阅读本文预计花费您17分钟</span></div>
        </div>
        <div class="art-content">
        <h3 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h3><h4 id="curl介绍"><a href="#curl介绍" class="headerlink" title="curl介绍"></a>curl介绍</h4><p>curl(client url)是一个强大且开源的数据传输工具，它支持通过URL上传或下载数据，适合用来执行上传或下载文件、执行API请求、提交表单数据等任务，curl支持以下协议：DICT、FILE、FTP、FTPS、GOPHER、GOPHERS、HTTP、HTTPS、IMAP、IMAPS、LDAPS、MQTT、POP3、POP3S、RTMP、RTMPS、RTSP、SCP、SFTP、SMB、SMBS、SMTP、SMTPS、TELNET、TFTP、WS、WSS。</p>
<div class="broadcast color-blue">
<div class="iconfont icon-yinhao"></div>
curl官方文档：<a href="https://curl.se/docs/manpage.html" target="_blank">https://curl.se/docs/manpage.html</a></div>


<h4 id="curl命令"><a href="#curl命令" class="headerlink" title="curl命令"></a>curl命令</h4><div class="apiBox">curl [选项] URL1 URL2 ...</div>

<ul>
<li><p>默认情况下，curl会将接收到的数据(如：html文件、json文件)写到stdout，即直接打印在屏幕上</p>
</li>
<li><p>如果curl接收到的数据被-o选项或重定向符输出到stdout以外的地方，则curl默认会显示一个<span class="text-blue">进度表</span>，进度表会显示传输数据量、传输速度和估计剩余时间</p>
</li>
<li><p>-#或-&zwnj;-progress-bar 显示一个<span class="text-blue">进度条</span>，使用进度条替换进度表</p>
</li>
<li><p>-s 静默模式(silent)，不显示进度和错误信息，但仍会显示HTTP响应的内容，如返回的html、json等数据</p>
</li>
<li><p>-q 完全安静模式(quiet)，完全阻止所有输出，包括进度信息、错误信息、返回的响应信息</p>
</li>
<li><p><span class="strong">-&zwnj;-retry 值：</span>设置重试次数，该值默认为0，curl默认只会在响应超时、FTP返回4xx或HTTP返回408、429、500、502、503或504时进行重试，该选项可以搭配以下选项：</p>
<blockquote>
<blockquote>
<ul>
<li>-&zwnj;-retry-all -errors：出现任何错误时均重试，包括HTTP 404等情况</li>
<li>-&zwnj;-retry-delay 值：每一次重试前的延迟时间，单位为秒</li>
<li>-&zwnj;-retry-max-time 值：最大总重试时间，单位为秒，到达该时间后，即使还有剩余重试次数，也停止重试</li>
</ul>
</blockquote>
</blockquote>
</li>
<li><p>如果URL中不指定协议，curl会尝试解析主机名，如果主机名不包含任何协议，则默认使用http</p>
</li>
<li><p><span class="strong"> -o /路径/文件名</span>：将接收到的数据以<span class="tips">新文件名</span>保存到指定位置，文件不存在则会新建，文件存在则会覆盖</p>
</li>
<li><p>-O 将接收到的数据在当前路径下以<span class="tips">原文件名</span>保存(不会保存路径)，文件不存在则会新建，文件存在则会覆盖</p>
</li>
<li><p>-&zwnj;-no-clobber (7.83.0版本以上支持)使用-o等选项将传输的数据保存到本地时，如果文件已经存在原文件会被覆盖。该选项可以避免覆盖已经存在的文件，如果文件已经存在，curl会在新保存的文件名后加上一个点和一个数字(如：test.1)来生成不同的文件名，这只支持生成到test.100，之后curl将不创建任何文件</p>
</li>
<li><p>-k 默认情况下，curl 建立的连接都会进行验证(如验证TLS 证书)，此选项会让curl跳过验证步骤，这可能引发安全问题</p>
</li>
<li><p>-f 当请求的URL返回4xx响应码时，http服务一般会返回一个404页面文本，该选项可以禁止curl输出该数据，而是提前返回http错误码22，这在脚本中比较有用，脚本获取一个404相关的页面数据也没什么用，可以提前抛弃掉</p>
</li>
<li><p>-&zwnj;-fail-early 在指定多个URL时，curl会依次执行这些传输任务，默认情况下，curl命令的执行结果只取决于最后一个URL是否成功传输，如果中间的某个URL返回错误代码也会被覆盖。该选项会让curl在遇到第一次传输失败时就返回一个错误，方便捕捉错误</p>
</li>
<li><p>-:或-&zwnj;-next：用来重置所有本地选项，指定多个URL时如果要为不同的URL指定不同的选项，可以使用该选项重置之前指定的选项，该选项不会重置全局选项</p>
</li>
<li><p>-I 只获取响应头</p>
</li>
<li><p>-L 跟随重定向，当curl遇到服务器返回3XX响应码时，会前往重定向的新位置重做请求</p>
</li>
<li><p><span class="strong">-x [请求方法]</span> 指定HTTP请求方法（GET、POST、PUT、DELETE 等）</p>
</li>
<li><p><span class="strong">-T [文件]</span> 上传文件到指定URL</p>
</li>
</ul>
<div class="show">1. 默认情况下，curl会将下载的数据打印到屏幕
curl test.shiwivi.com/mobileTest.html
打印的html文件：
&lt;!DOCTYPE html&gt;
&lt;html&gt;&lt;head&gt;meta http-equiv=X-UA-Compatible content=IE=Edge&gt;&lt;title&gt;shiwivi&lt;/title&gt;&lt;/head&gt;&lt;body&gt;
...
&lt;/body&gt;&lt;/html&gt;
2. curl命令自带下载进度表，用来显示传输的数据量、传输速度和估计剩余时间等，并且会默认打印到stdout，但如果下载的数据也被输出到stdout，curl会自行禁用进度表，以免进度数据和下载数据都打印到stdout造成混乱。如果使用-o选项或重定向符将数据输出到了stdout以外的位置，stdout将显示进度表
curl -o index.html test.shiwivi.com/mobileTest.html
进度表的显示参数：
% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   184    0   184    0     0    351      0 --:--:-- --:--:-- --:--:--   352
</div>

<h4 id="url通配"><a href="#url通配" class="headerlink" title="url通配"></a>url通配</h4><p>curl支持允许使用<span class="tips">大括号{}</span>、<span class="tips">中括号[]</span>来指定一个URL地址范围，此时需要使用<span class="tips">双引号””</span>来包裹URL地址，避免shell等程序解析这些字符</p>
<div class="show">1.支持使用{ }指定多个地址
curl "http://test.{one,two,three}.com"
2.支持使用[ ]来指定一个域名或文件名范围
"http://test.example.com/file[1-100].txt"
"http://test.example.com/file[a-z].txt"
可以为这个范围指定步进值
"http://test.example.com/file[1-100:10].txt"
"http://test.example.com/file[a-z:2].txt"
3.括号不能嵌套，但能并列使用多次
"http://{css,js,img}.example.com/file[1-20:2].txt"
{ }适合用来指定多个没有任何联系的离散独立值，[ ]适合用来指定一个范围值
4.如果需要为每个下载的文件都另存并指定文件名，可以使用#加数字的形式来引用正在获取的URL字符串
curl "http://{css,js,img}.example.com/file[1-20:2].txt" -o "file_#1_#2"
也可以依次指定-o选项
curl -o a.txt example1.com -o b.txt example2.com
</div>


<h3 id="wget"><a href="#wget" class="headerlink" title="wget"></a>wget</h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><p>wget(World Wide Web Get)是一个功能强大的命令行工具，用于从网络上下载文件和数据。它可以处理HTTP、HTTPS、FTP等协议，支持断点续传、递归下载、限速等功能，相较于curl，wget更像是一种专门用来下载文件的软件</p>
<div class="broadcast color-pink">
<div class="iconfont icon-yinle1"></div>
GNU社区的wget文档：<a target="_blank" rel="noopener" href="https://www.gnu.org/software/wget/manual/wget.html">https://www.gnu.org/software/wget/manual/wget.html</a></div>

<h4 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h4><p><span class="strong">wget [选项] URL</span></p>
<ul>
<li>默认情况下，wget命令会将文件保存到当前目录。下载时，wget命令会打印文件总大小、下载速度、下载进度等信息到stdout，且wget命令会默认自动处理HTTP重定向</li>
<li>-q 静默模式，不输出任何信息</li>
<li><span class="strong">-o 文件名</span> 将下载的文件以新文件名保存到指定位置</li>
<li><span class="strong">-O 文件名</span> 将wget命令输出的下载信息日志保存到指定文件，而不再打印到屏幕</li>
<li><span class="strong">-p 目录名</span>将文件下载到指定目录</li>
<li>-c 启用断点续传，继续下载暂停或中断的文件</li>
<li>-r 递归下载网站或目录中的所有文件</li>
<li><span class="strong">-l 值</span>设置递归下载的深度，通常和-r选项搭配使用，如：-r -l 1表示只下载当前目录的文件</li>
<li>-N 仅下载比本地文件新的文件(根据时间戳判断)，适合用来同步文件</li>
<li>-nd 不创建目录结构，将所有下载的文件都保存到当前目录</li>
<li><span class="strong">-i 文件名</span>从文件中读取URL，并依次下载</li>
<li><span class="strong">-&zwnj;-wait=值</span>设置文件下载的时间间隔，避免对服务器造成过大负载</li>
<li>-&zwnj;-random-wait 设置随机等待时间，模拟更自然的用户行为</li>
<li><span class="strong">–tries=值</span> 设置下载失败后的重试次数，默认为20次</li>
</ul>
<div class="show">1. 正常下载文件
wget http://example.com/file.zip
默认情况下，wget命令会打印以下信息：
--2021-08-31 00:12:34--  http://shiwivi.com/
Resolving shiwivi.com (shiwivi.com)... 170.196.108.153
Connecting to shiwivi.com (shiwivi.com)|170.196.108.153|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 3355 (3.3K) [text/html]
Saving to: ‘index.html.1’
100%[===================>] 3,355       --.-K/s   in 0.1s    
2021-08-31 00:12:37 (23.3 KB/s) - ‘index.html.1’ saved [3355/3355]
2. 静默模式
wget -q http://example.com/file.zip
</div>




<h3 id="bc计算器"><a href="#bc计算器" class="headerlink" title="bc计算器"></a>bc计算器</h3><p>bash主要是用来处理文本命令的，数值运算能力较差，只支持一些基本的整形运算，进行浮点数运算通常要借助bc计算器。bc(Basic Calculator)是一个外部命令，通常位于<span class="tips">/usr/bin/bc</span> 或 <span class="tips">/bin/bc</span>路径下，一般情况下大多数 Linux 发行版默认都会包含这个工具，同时它也是一种编程语言，支持在命令行中进行浮点数运算，该语法支持：</p>
<ul>
<li>基本算术运算：支持加、减、乘、除和取余等基本运算</li>
<li>浮点运算：默认情况下，bc执行整数运算，但通过设置小数点精度，可以进行浮点运算</li>
<li>简单的变量和数组</li>
<li>注释，以#和/* */为注释</li>
<li>逻辑和条件操作：支持逻辑运算符如&lt;, &gt;, ==, !=等，可以在脚本中使用if条件语句</li>
<li>循环：支持while和for循环，可以用来编写较为复杂的计算脚本</li>
<li>自定义函数</li>
</ul>
<div class="broadcast color-blue">
<div class="iconfont icon-yinhao"></div>
GNU社区的bc文档：<a target="_blank" rel="noopener" href="https://www.gnu.org/software/bc/manual/html_mono/bc.html">https://www.gnu.org/software/bc/manual/html_mono/bc.html</a></div>


<h4 id="命令-1"><a href="#命令-1" class="headerlink" title="命令"></a>命令</h4><p><span class="strong">bc [选项] [文件]</span></p>
<ul>
<li>默认情况下，bc命令进行整数运算，通过scale变量可以指定小数位数，进行浮点数运算，并且打开bc时默认会打印版本信息</li>
<li>-q 安静模式，不打印版本信息、GNU提示信息，其长选项为-&zwnj;-quiet</li>
<li>-l 加载数学库，可以使用sin、sqrt等数学函数</li>
</ul>
<h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><p>bc内部预定义了几个变量：</p>
<h5 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h5><div class="table">

<table>
<thead>
<tr>
<th>变量名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>scale</td>
<td>小数位数，默认为0</td>
</tr>
<tr>
<td>ibase</td>
<td>输入数值的进制，默认为10，该变量支持的值为2-16，输入的数字支持0-9和A-F，字母必须大写，小写用于声明变量名</td>
</tr>
<tr>
<td>obase</td>
<td>输出数值的进制，默认为10</td>
</tr>
<tr>
<td>last</td>
<td>上一个打印的数值(GNU拓展)</td>
</tr>
</tbody></table>
</div>

<h5 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h5><ul>
<li>变量名以字母开头，后面可以是任意数量的字母、数字、下划线</li>
<li>变量名必须小写，大写字母被用来识别十六进制的数值输入</li>
</ul>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><div class="show">1. 在命令行下，我们可以直接输入bc命令唤起bc计算器，通过<span class="tips">quit</span>命令退出
<div class="shell">$ bc 
bc 1.06.95 
Copyright 1991-1994, 1997, 1998, 2000, 2004, 2006 Free Software Foundation, Inc. 
This is free software with ABSOLUTELY NO WARRANTY. 
For details type 'warranty'. 
12 * 5.4 
64.8</div>
2. 在进行浮点数运算时，尤其进行除法运算，需要先设置内置变量<span class="strong">scale</span>的值，它决定了计算结果保留的小数位数，默认为0
<div class="shell">$ bc -q 
3.44 / 5 
0 #未设置scale值，导致运算结果无小数
scale=4 
3.44 / 5 
.6880 
quit</div>
3. bc也支持<span class="strong">变量</span>和<span class="strong">print输出语句</span>
在脚本中，可以使用命令替换来运行bc，常用格式如下：
<span class="strong">$(echo "变量1;变量2..; 表达式" | bc)</span>
<div class="shell">e.g.计算100/30并保留4位小数
var1=100
var2=30
var3=$(echo "scale=4; $var1 / $var2" | bc)
echo "计算结果为：" $var3
</div>
4. 如果需要大量运算，则可以借助内联重定向，一次输入多个数据，语法格式为：
<div class="apiBox">变量=$(bc &lt;&lt; EOF
   变量1
   变量2
   运算1
   运算2
...
EOF
)</div>
<div class="shell">e.g.进行多项运算
var1=10.46 
var2=43.67 
var3=33.2 
var4=71 
var5=$(bc << EOF 
scale = 4 
a1 = ( $var1 * $var2) 
b1 = ($var3 * $var4) 
a1 + b1 
EOF 
) 
echo "最终结果为：" $var5
</div></div>

<h3 id="mkpasswd密码生成"><a href="#mkpasswd密码生成" class="headerlink" title="mkpasswd密码生成"></a>mkpasswd密码生成</h3><p>mkpasswd有两个同名软件，一个用来生成随机密码，一个用来加密用户密码</p>
<h4 id="生成随机密码"><a href="#生成随机密码" class="headerlink" title="生成随机密码"></a>生成随机密码</h4><p>expect 包中mkpasswd 用来生成指定长度的随机密码，可以指定密码中数字、大小写英文字母和特殊字符的个数</p>
<h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><p>mkpasswd 是 expect 包中的一个脚本，使用前需要安装expect包</p>
<ul>
<li>Red Hat系列操作系统<pre><code>sudo yum install expect</code></pre></li>
<li>Debian系列操作系统<pre><code>sudo apt-get install expect</code></pre></li>
</ul>
<h5 id="命令-2"><a href="#命令-2" class="headerlink" title="命令"></a>命令</h5><p><span class="strong">mkpasswd [选项]</span></p>
<ul>
<li>-l 值：指定生成的密码长度，默认值为9</li>
<li>-d 值：指定数字个数，默认值为2</li>
<li>-c 值：指定小写字母的个数，默认值为2</li>
<li>-C 值：指定大写字母的个数，默认值为2</li>
<li>-s 值：指定特殊字符的个数，默认值为1</li>
</ul>
<div class="show">1. 随机生成一个20位的密码
mkpassed -l 20
2. 随机生成一个20位的密码，包含4位数字
mkpasswd -l 20 -d 4
</div>

<h4 id="加密用户密码"><a href="#加密用户密码" class="headerlink" title="加密用户密码"></a>加密用户密码</h4><p> whois 包中的 mkpasswd 是一个在 Linux 和 Unix 系统中生成加密密码的工具。它常用于加密用户密码，特别是在涉及到 /etc/shadow 文件或其他需要加密密码的场景下。mkpasswd 工具可以生成各种哈希算法加密的密码，如 MD5、SHA-256、SHA-512 等。</p>
<h5 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h5><p>在一些 Linux 发行版中，mkpasswd 是 whois 包的一部分。如果系统上没有 mkpasswd，可以通过包管理器安装 whois 包：</p>
<ul>
<li><p>基于 Red Hat 的系统（如 CentOS、Fedora）</p>
<pre><code>sudo yum install whois
</code></pre></li>
<li><p>基于 Debian 的系统（如 Ubuntu）</p>
<pre><code>sudo apt-get install whois</code></pre></li>
</ul>
<h5 id="命令-3"><a href="#命令-3" class="headerlink" title="命令"></a>命令</h5><p><span class="strong">mkpasswd [选项] [密码] [盐值]<br></span></p>
<ul>
<li>可以输入一个需要加密的明文密码</li>
<li>盐值可选，可以添加到密码中以增强哈希的安全性</li>
<li>默认使用MD5算法</li>
<li>-m 算法：指定一个加密算法，如：sha-512，sha-256，md5等</li>
</ul>
<div class="show">1. 使用 SHA-512 生成加密密码
mkpasswd -m sha-512 mypassword
2. 生成一个使用 SHA-512 加密的密码，并指定一个盐值
mkpasswd -m sha-512 "password123" "randomsalt"
</div>

<h3 id="time"><a href="#time" class="headerlink" title="time"></a>time</h3><p>linux中的time命令通常提供了两个，一个是bash内置的time命令，用来查看目录所消耗的时间。还有一个为外部工具，命令路径为<span class="tips">/usr/bin/time</span>，功能更为强大，可以查看命令所消耗的资源，包括内存使用情况</p>
<p>通过type命令可以看到两个命令的来源</p>
<div class="shell">[root@Linux ~]# type -a time
time is a shell keyword
time is /usr/bin/time
</div>

<h4 id="bash内建的time"><a href="#bash内建的time" class="headerlink" title="bash内建的time"></a>bash内建的time</h4><p><span class="strong">time [选项] 命令</span></p>
<ul>
<li>-o 文件名：将输出写入指定文件，如果已有该文件则覆盖</li>
<li>-a 配合-o使用，将命令输出追加到文件末尾，而不是覆盖</li>
<li>-p 以POSIX标准格式输出时间信息</li>
</ul>
<div class="show">查看ls命令所消耗的时间
time ls
输出值为：
real    0m0.002s  #真实时间
user    0m0.002s  #用户时间
sys    0m0.000s      #系统时间
</div>

<h4 id="外部time工具"><a href="#外部time工具" class="headerlink" title="外部time工具"></a>外部time工具</h4><p><span class="strong">/usr/bin/time [选项] 命令</span></p>
<ul>
<li>-o 文件名：将输出写入指定文件，如果已有该文件则覆盖</li>
<li>-a 配合-o使用，将命令输出追加到文件末尾，而不是覆盖</li>
<li>-p 以POSIX标准格式输出时间信息</li>
<li>-v 详细输出命令所消耗的时间、内存等信息</li>
</ul>
<div class="show">查看命令所消耗时间的输出信息与bash内置的time命令一样，但bin目录下的time工具额外提供了-v选项用来详细输出系统资源消耗
/usr/bin/time ls
输出值通常包括时间、最大内存使用、进程数量、页面错误、退出状态码等
Command being timed: "ls"
    User time (seconds): 0.00
    System time (seconds): 0.00
    Percent of CPU this job got: 100%
    Elapsed (wall clock) time (h:mm:ss or m:ss): 0:00.00
    Average shared text size (kbytes): 0
    Average unshared data size (kbytes): 0
    Average stack size (kbytes): 0
    Average total size (kbytes): 0
    Maximum resident set size (kbytes): 1116
    Average resident set size (kbytes): 0
    Major (requiring I/O) page faults: 0
    Minor (reclaiming a frame) page faults: 336
    Voluntary context switches: 1
    Involuntary context switches: 1
    Swaps: 0
    File system inputs: 0
    File system outputs: 0
    Socket messages sent: 0
    Socket messages received: 0
    Signals delivered: 0
    Page size (bytes): 4096
    Exit status: 0
</div>
        </div>
    </div>
    <div class="post-nav">
        
            <div class="post-prev ">
                <a href="/blog/2021/12/29/LinuxShell%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8/">上一篇：Shell介绍与使用</a>
            </div>
            
            
                <div class="post-next">
                    <a href="/blog/2021/12/29/Linux%E4%BF%A1%E6%81%AF%E6%A3%80%E7%B4%A2%E4%B8%8E%E5%A4%84%E7%90%86/">下一篇：Linux信息检索与处理 </a>
                </div>
                 
    </div>
    <div class="container">
        <!--设计来源于B站-季夏小贞-->
        <div class="bigHead"></div>
        <div class="ears"></div>
        <div class="body"></div>
        <div class="paws-front"></div>
        <div class="paws-back"></div>
        <div class="details"></div>
        <div class="tail"></div>
        <div class="sleep">
          <span class="s1">z</span>
          <span class="s2">z</span>
          <span class="s3">z</span>
          <span class="s4">z</span>
          <span class="s5">z</span>
        </div>
    </div>
</div>
<div class="right-menu">
    <a class="iconfont backTop" href="javascript:">&#xe655;</a>
    <div class="husky"></div>
  </div>
</div>

<script src="/blog/js/jquery.min.js"></script>
<script src="/blog/js/jquery.bumpytext.js"></script>
<script src="/blog/js/index.js"></script>
<script src="/blog/js/highlight.min.js"></script>
<script src="/blog/js/highlightjs-line-numbers.min.js"></script>
<script src="/blog/js/article.js"></script>

</body></html>