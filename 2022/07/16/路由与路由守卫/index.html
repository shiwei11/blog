<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="shiwi"><meta name="copyright" content="shiwi"><link rel="preconnect" href="https://cdn.jsdelivr.net/"><link rel="shortcut icon" href="/blog/images/favicon.ico" type="image/x-icon"><style>body{cursor:url(https://cdn.jsdelivr.net/gh/shiwei11/blogfile/images/normal.cur),auto;}a,label{text-decoration: none;cursor:url(https://cdn.jsdelivr.net/gh/shiwei11/blogfile/images/link.cur),auto;}</style><style>.preload{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:100}.text{margin-bottom:10px;color:#00cff3;text-shadow:0 0 3px #00cff3;font-size:20px}.text span{display:inline-block}.dance{animation:dance .8s linear}.text span:nth-child(1){animation-delay:0s}.text span:nth-child(2){animation-delay:.1s}.text span:nth-child(3){animation-delay:.2s}.text span:nth-child(4){animation-delay:.3s}.text span:nth-child(5){animation-delay:.4s}.text span:nth-child(6){animation-delay:.5s}.text span:nth-child(7){animation-delay:.6s}.text span:nth-child(8){animation-delay:.7s}.text span:nth-child(9){animation-delay:.8s}.text span:nth-child(10){animation-delay:.9s}@keyframes dance{0%{transform:translateY(0)}50%{transform:translateY(-20px)}100%{transform:translateY(0)}}.loading{width:80%;max-width:260px;height:6px;background-color:#e1e4e8;border-radius:6px}.bar{display:flex;height:100%;background:linear-gradient(90deg,#ffd33d,#ea4aaa 10%,#b34bff 30%,#01feff 51%,#ffb33d 68%,#ea4aaa 85%,#b34bff);background-size:300% 100%;animation:bar 2s linear infinite}@keyframes bar{0%{background-position:100%}100%{background-position:0}}</style><body><div class="preload"><div class="text"><span>L</span> <span>o</span> <span>a</span> <span>d</span> <span>i</span> <span>n</span> <span>g</span> <span>.</span> <span>.</span> <span>.</span></div><div class="loading"><span class="bar"></span></div></div><script>let spans=document.querySelector('.text').querySelectorAll('span');const timer=setInterval(()=>{spans.forEach((item)=>{if(item.classList.contains('dance')){item.classList.remove('dance');}else{item.classList.add('dance');}})},1700);window.onload=function(){clearInterval(timer);document.querySelector('.preload').style="display:none;"}</script><title>SHIWIVI-文章</title>
<link rel="stylesheet" href="https://at.alicdn.com/t/font_2856826_bu73u0ahu7a.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.css">

<link rel="stylesheet" href="/blog/css/index.css">
<link rel="stylesheet" href="/blog/css/article.css">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/styles/base16/atelier-cave.min.css">

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/blog/atom.xml" title="SHWIVI's blog" type="application/atom+xml">
</head>
<body>
<div class="navigation">
    <div class="card">
        <div class="head">
            <img src="/blog/images/head.jpg"  alt="头不见了.." title="狗">
        </div>
        <div class="card-text">
            <p>(ー`´ー)</p>
            <p>那不是bug，是彩蛋</p>
        </div> 
    </div>
    <ul class="label">
        
        <li><a href="/blog/index.html">首页</a></li>
        
        <li><a href="/blog/life">日常</a></li>
        
        <li><a href="/blog/record">一句</a></li>
        
        <li><a href="/blog/message">留言</a></li>
        
        <li><a href="/blog/about">关于</a></li>
          
    </ul>
        <ul class="tag">
            <li>#Document</li>
            <li>#Jquery</li>
            <li>#css</li>
            <li>#射频</li>
            <li>#5G通讯</li>
            <li>#PCB</li>
            <li>#shell</li>
            <li>#C</li>
            <li>#html</li>
            <li>#硬件</li>
            <li>#javaScript</li>
            <li>#防火墙</li>
            <li>#CentOS</li>
            <a href="/blog/tags/Linux" target="_blank"><li>#Linux</li></a>
            
            <li>#python</li>
            <li>#XPpose</li>
        </ul>
<div class="rsstag"><a href="/blog/atom.xml"><span class="iconfont icon-rss"></span>RSS订阅</a></div>
<div class="flower">
<?xml version="1.0" encoding="UTF-8"?>
<svg width="84.6px" height="70.5px" viewBox="0 0 254 212" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<title>窗</title>
<desc>Created with Sketch.</desc>
<defs></defs>
<g id="植物" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g id="Artboard" transform="translate(-885.000000, -503.000000)">
        <g id="植物-紫色盆" transform="translate(882.000000, 500.000000)">
            <ellipse id="Oval-12" fill="#B3B7C7" cx="140.5" cy="137" rx="39.5" ry="6"></ellipse>
            <g id="Group-5">
                <path d="M131.5,149 C137.746054,149 138.400559,136.953074 140.297813,118.503702 C141.504079,106.77367 149.145158,88.1140929 147,75 C142.297813,46.2539062 153.271934,32.5660626 150.170125,19.4282488 C148.031314,10.3692495 142.862042,3 131.5,3 C123.603887,3 113.698654,6.59314895 110.722909,11.2157433 C103.206874,22.8913341 114,46.5137576 114,75 C114,90.4435309 122.495151,106.751425 123.699377,118.476362 C125.595832,136.941172 125.250862,149 131.5,149 Z" id="Oval-11" fill="#BAC4F6"></path>
                <path d="M135.5,146.5 C132.598908,121.877878 130.965369,104.566553 130.599381,94.5660242 C130.050399,79.5652312 132.963841,77.0580598 132.164069,55.3464601 C131.630888,40.8720602 130.242865,30.4232402 128,24" id="Line-15" stroke="#FFFFFF" stroke-width="2" opacity="0.800892857" stroke-linecap="square"></path>
                <path d="M77.0442201,163.336077 C84.2239219,163.336077 101.067658,131.237823 101.067658,92.025606 C101.067658,52.8133888 90.9057581,-2.32627732 72.6560979,17.2440872 C50.0508064,41.4852946 69.5871262,36.5862429 74.0442201,63.8595149 C75.572858,73.2133576 77.0442201,94.5993942 77.0442201,104.613421 C77.0442201,143.825638 69.8645184,163.336077 77.0442201,163.336077 Z" id="Oval-9" fill="#BAC4F6" transform="translate(81.510722, 88.251316) rotate(-43.000000) translate(-81.510722, -88.251316) "></path>
                <path d="M42.5,50.5 C47.5132933,48.8699207 59.3816332,57.6317857 78.1050199,76.785595 C96.8284065,95.9394043 113.960067,116.844206 129.5,139.5" id="Line-17" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M155.281006,152.144255 C162.116643,152.144255 178.153197,121.584207 178.153197,84.2511084 C178.153197,72.6051871 184.354199,51.8242671 182.531201,39.8465879 C178.51025,13.4276595 163.058175,0.233079666 151.10317,13.0532528 C129.581164,36.1327785 143.297279,29.7382802 147.540781,55.7045685 C148.996164,64.6101585 153.500382,80.3852665 153.500382,89.9194035 C153.500382,127.252502 148.445368,152.144255 155.281006,152.144255 Z" id="Oval-9-Copy-2" fill="#E9EDFD" transform="translate(161.092971, 80.123972) scale(-1, 1) rotate(-20.000000) translate(-161.092971, -80.123972) "></path>
                <path d="M180.5,34.5 C181.290102,21.4892162 175.746138,28.9223292 163.868108,56.7993391 C157.546037,71.6368512 150.532373,85.3308057 144.827114,101.881203 C141.023608,112.914801 138.581237,128.787733 137.5,149.5" id="Line-20" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M60.3426107,183.894782 C69.2498271,183.894782 90.1463498,156.072081 90.1463498,122.083011 C90.1463498,88.0939419 67.5408019,29.4364067 54.8986583,57.2625442 C45.0326912,78.978146 51.0912584,74.0282851 56.6207779,97.6687014 C58.5172227,105.776593 67.8616068,124.363423 67.8616068,133.043561 C67.8616068,167.032631 51.4353942,183.894782 60.3426107,183.894782 Z" id="Oval-9-Copy" fill="#BAC4F6" transform="translate(69.895982, 116.944107) rotate(-71.000000) translate(-69.895982, -116.944107) "></path>
                <path d="M24.5,109.5 C22.4991751,103.669523 35.0833631,105.49608 62.2525641,114.979669 C79.4278854,120.974828 92.103247,119.378882 106.278649,126.191831 C111.777518,128.834684 120.517968,134.937407 132.5,144.5" id="Line-19" stroke="#FFFFFF" stroke-width="2" opacity="0.595424107" stroke-linecap="square"></path>
                <path d="M169.495543,159.559977 C178.40276,159.559977 199.299282,131.737276 199.299282,97.7482062 C199.299282,85.7856682 202.004463,66.329956 197.824033,53.1018748 C190.126639,28.745108 172.2443,14.8950801 164.051591,32.9277389 C154.185624,54.6433407 160.244191,49.6934798 165.77371,73.3338961 C167.670155,81.4417878 177.014539,100.028618 177.014539,108.708756 C177.014539,142.697825 160.588327,159.559977 169.495543,159.559977 Z" id="Oval-9-Copy-3" fill="#BAC4F6" transform="translate(179.479352, 92.134636) scale(-1, 1) rotate(-43.000000) translate(-179.479352, -92.134636) "></path>
                <path d="M213.5,60.5 C209.183273,60.8948914 201.740861,65.4428024 191.172763,74.1437328 C175.320617,87.1951284 177.797205,83.2393994 161.560337,103.262986 C150.735758,116.612043 142.715646,131.024381 137.5,146.5" id="Line-21" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M81.1425752,168.630026 C85.1025169,165.536181 98.2051544,147.96348 98.2051544,111.236918 C98.2051544,74.5103552 86.0176544,46.7369177 70.0176544,46.7369177 C54.0176544,46.7369177 59.5351666,70.3889964 66.8400325,93.0530589 C69.6371249,101.731312 78.9791535,122.814465 81.0032985,132.88325 C84.2653955,149.110029 78.6989273,170.539213 81.1425752,168.630026 Z" id="Oval-10" fill="#E9EDFD" transform="translate(78.936475, 107.743055) rotate(-52.000000) translate(-78.936475, -107.743055) "></path>
                <path d="M39.5,84.5 C46.5402399,84.832105 55.9862242,87.7506309 67.8379528,93.2555776 C85.6155457,101.512998 79.9127462,96.6348296 100.298442,112.739947 C113.888906,123.476691 125.956092,135.063376 136.5,147.5" id="Line-18" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M194.823347,177.534556 C197.785465,175.220296 209.085075,165.125173 213.530819,146.109724 C215.496552,137.701844 211.555235,124.000271 211.555235,111.853141 C211.555235,72.2337887 199.639103,43.8487815 182.378853,43.8487815 C165.118604,43.8487815 168.053621,58.2764613 175.933859,82.7256721 C183.814096,107.174883 191.693317,118.61017 193.876895,129.472028 C197.395933,146.976919 192.187224,179.594121 194.823347,177.534556 Z" id="Oval-10-Copy-2" fill="#E9EDFD" transform="translate(191.881132, 110.738214) scale(-1, 1) rotate(-52.000000) translate(-191.881132, -110.738214) "></path>
                <path d="M237.5,84.5 C231.839918,82.6252532 222.387737,84.7837206 209.143456,90.9754021 C189.277034,100.262925 198.344222,96.9653923 174.587666,113.911421 C158.749962,125.208774 147.387407,137.071634 140.5,149.5" id="Line-22" stroke="#FFFFFF" stroke-width="2" opacity="0.785044643" stroke-linecap="square"></path>
                <path d="M102.095097,154.049614 C106.979303,150.233654 123.140143,128.559423 123.140143,83.2607523 C123.140143,37.9620813 108.108037,3.70622602 88.3735811,3.70622602 C68.639125,3.70622602 75.4444439,32.8787829 84.4542911,60.8327171 C87.9042347,71.5365054 99.4267255,97.5405402 101.923313,109.959415 C105.946795,129.97358 99.0810936,156.404412 102.095097,154.049614 Z" id="Oval-10-Copy" fill="#E9EDFD" transform="translate(99.374086, 78.951409) rotate(-21.000000) translate(-99.374086, -78.951409) "></path>
                <path d="M70.5,27.5 C77.9697854,36.2141564 84.664658,44.2949462 90.5846178,51.7423694 C99.4645574,62.9135043 102.309139,65.8595669 108.078018,74.773869 C113.846897,83.6881711 108.232283,69.1486166 118.500716,94.8794382 C125.346337,112.033319 129.012765,128.573507 129.5,144.5" id="Line-16" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></path>
                <path d="M193.001521,189.153265 C198.929205,189.153265 212.83568,162.652399 212.83568,130.278124 C212.83568,97.9038493 204.210737,49.7003434 189.378612,68.5372278 C174.540517,87.3816949 180.150684,86.5530431 183.830536,109.070321 C185.092606,116.793013 193.001521,132.403088 193.001521,140.670839 C193.001521,173.045114 187.073837,189.153265 193.001521,189.153265 Z" id="Oval-9-Copy-4" fill="#BAC4F6" transform="translate(196.248002, 126.727326) scale(-1, 1) rotate(-73.000000) translate(-196.248002, -126.727326) "></path>
                <path d="M234.5,116.5 C229.435614,115.997419 220.043174,117.148484 206.322678,119.953197 C185.741934,124.160265 185.201799,123.9696 168.145826,131.063968 C156.775178,135.793546 148.226569,140.93889 142.5,146.5" id="Line-23" stroke="#FFFFFF" stroke-width="2" opacity="0.733426339" stroke-linecap="square"></path>
            </g>
            <g id="Group-4" transform="translate(101.000000, 137.000000)">
                <path d="M0,0 C11.7955729,2 24.5052083,3 38.1289062,3 C51.7526042,3 65.3763021,2 79,0 L71.2109375,75.3409091 C61.9375,77.1136364 51.8945312,78 41.0820312,78 C30.2695313,78 19.4570312,77.1136364 8.64453125,75.3409091 L0,0 Z" id="Rectangle-9" fill="#FCDCCF"></path>
                <path d="M59.2621996,2.19791001 C63.6483775,1.86496527 70.2276443,1.1323286 79,0 L71.2109375,75.3409091 C63.3055851,76.5844933 57.2271178,77.3450382 52.9755357,77.6225437 L59.2621996,2.19791001 Z" id="Rectangle-9" fill="#ECC6B6"></path>
                <path d="M0,0 C10.9588352,1.33333333 23.3572727,2 37.1953125,2 C51.0333523,2 64.9682481,1.33333333 79,0 L76.7909585,21.3672948 L40.573652,23.0934676 L2.38711382,20.8047516 L0,0 Z" id="Rectangle-9" fill="#F3B096"></path>
            </g>
        </g>
    </g>
</g>
</svg>
</div>

</div>
<div class="menu-btn closed"> 
    <div class="menu-line"></div>
    <div class="menu-line"></div>
    <div class="menu-line"></div>
</div>
<div class="second-main">
    <div class="js-toc"></div>
    <div class="motto">
        <p> //sunny forever<br />
            while(life&lt;end){<br />
               love++;<br />
               beAwesome :)} </p>
     </div>
     <div class="second-content">
        <div class="article">
        <h1 class="title">路由与路由守卫</h1>
        <div class="art_infor">
            <div><span><span class="iconfont icon-zishu-jzl"></span>字数：16522</span>
            <span><span class="iconfont icon-riqi"></span>写于：2022-07-16</span></div>
            <div><span><span class="iconfont icon-zuixinnew3"></span>最新更新：2022-07-16</span>
            <span><span class="iconfont icon-shijian"></span>阅读本文预计花费您48分钟</span></div>
        </div>
        <div class="art_content">
        <div class="broadcast color-yellow">
<div class="iconfont icon-dengpao14hao"></div>
vue路由官方网站：<a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/">https://router.vuejs.org/zh/</a></div>

<h3 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><ul>
<li>Vue Router 是Vue的官方路由插件，用于构建单页应用</li>
<li>页面不刷新，配合ajax实现页面的局部更新，并响应式更新地址栏URL</li>
<li>在工程中，普通组件一般放在components下，而路由组件放于pages目录下</li>
<li>切换组件时，未调用的组件是被销毁的，调用时被挂载</li>
<li>整个应用由一个<span class="tips">router</span>(路由器)统一管理，通过<span class="tips">$router</span>调用</li>
<li>但每个路由组件都有自己的<span class="tips">$route</span>属性</li>
</ul>
<h4 id="安装vue-router"><a href="#安装vue-router" class="headerlink" title="安装vue router"></a>安装vue router</h4><p>vue2的工程使用vue-router3，vue3的工程使用vue-router4，版本需要对应，这里以安装vue-router3为例</p>
<p>在脚手架中执行：<br><code><pre>npm i vue-router@3</pre></code></p>
<h3 id="路由的使用"><a href="#路由的使用" class="headerlink" title="路由的使用"></a>路由的使用</h3><p>案例：通过组件嵌套，实现功能</p>
<ol>
<li>在app单个页面中通过按钮实现Home和About页面的切换</li>
<li>About页面中嵌套aboutMe和aboutWeb页面</li>
</ol>
<p><span class="strong">1. 新建pages目录，存放Home.vue、About.vue、aboutMe、aboutWeb组件</span></p>
<p>Home.vue文件:</p>
<pre><code>&lt;template>
  &lt;div class="home">
    &lt;h2>Home页面&lt;/h2>
  &lt;/div>
&lt;/template>
&lt;script>
export default &#123;
    name:'pageHome'
  &#125;
&lt;/script></code></pre>

<p>About.vue文件:</p>
<pre><code>&lt;template>
  &lt;div class="about">
    &lt;h2>About页面&lt;/h2>
    &lt;div class="about-btn">
    &lt;!--router-link标签路由切换按钮的两种写法，该标签最后会被解析为a标签-->
    &lt;!--1. 根据路径调用组件-->
    &lt;router-link to="/about/aboutWeb">关于网页&lt;/router-link> 
    &lt;router-link to="/about/aboutMe">关于我&lt;/router-link> 
    &lt;!--2. 根据路由规则中的name属性调用组件-->
    &lt;router-link :to="&#123;name: 'aboutme'&#125;">关于网页&lt;/router-link> 
    &lt;router-link :to="&#123;name: 'aboutweb'&#125;">关于我&lt;/router-link> 
    &lt;/div>
    &lt;div class="about-content">
    &lt;!--子组件显示的位置-->
    &lt;router-view>&lt;/router-view> 
    &lt;/div>
  &lt;/div>
&lt;/template>
 &lt;script>
 export default &#123;
     name:'pageAbout'
 &#125;
&lt;/script></code></pre>

<p>aboutWeb.vue文件 (aboutMe.vue类似)</p>
<pre><code>&lt;template>
  &lt;div>
    &lt;ul>
        &lt;li v-for="(t,index) in tech" :key="index">&#123;&#123;t&#125;&#125;&lt;/li>
    &lt;/ul>
  &lt;/div>
&lt;/template>

&lt;script>
 export default &#123;
    name:'aboutWeb',
    data()&#123;
        return&#123;
            tech:&#123;
                前端:'html/css/javaScript',
                后端:'java',
                系统:'CentOS7',
                服务器:'nginx'
            &#125;
        &#125;
    &#125;
 &#125;
&lt;/script></code></pre>

<p><span class="strong">2. 新建router目录，新建index.js文件用于创建路由器</span><br>index.js文件：</p>
<pre><code>// 引入vueRouter插件
import VueRouter from "vue-router";
//引入路由组件
import Home from '../pages/pageHome'
import About from '../pages/pageAbout'
import aboutMe from '../pages/aboutMe'
import aboutWeb from '../pages/aboutWeb'
// 创建路由器
export default new VueRouter(&#123;
    // 创建路由规则一个&#123;&#125;内为一条路由
    routes:[
        &#123;
            name: 'home',    //路由规则指定的组件别名
            path:'/home',   //路由路径
            component:Home //调用的组件
        &#125;,
        &#123;   
            name: 'about',
            path:'/about',
            component:About,
            children:[     //组件嵌套
                &#123;   
                    name:'aboutme',
                    path:'aboutMe',
                    component:aboutMe
                &#125;,
                &#123;   
                    name:'aboutweb',
                    path:'aboutWeb',
                    component:aboutWeb
                &#125;
            ]
        &#125;
    ]
 &#125;)
</code></pre>

<p><span class="strong">3. 在main.js中引入路由器</span></p>
<pre><code>import Vue from 'vue'
import App from './App.vue'
// 引入vue-router
import VueRouter from 'vue-router'
// 使用vue-router
Vue.use(VueRouter)
// 引入创建的路由器
import router from './router'
new Vue(&#123;
  render: h => h(App),
  router:router   //配置路由器
&#125;).$mount('#app')</code></pre>

<p><span class="strong">4. 在App中调用路由组件</span></p>
<pre><code>&lt;template>
  &lt;div id="app">
    &lt;div class="btn">
      &lt;!-- active-class用于指定该链接按钮被选中时生效的样式-->
      &lt;router-link class="link" active-class="active" to="/home">Home&lt;/router-link>
      &lt;router-link class="link" active-class="active" to="/about">About&lt;/router-link>
      &lt;!-- 同样，to可以写为对象形式 -->
      &lt;router-link class="link" active-class="active" :to="&#123;name:'home'&#125;">Home&lt;/router-link>
      &lt;router-link class="link" active-class="active" :to="&#123;name:'about'&#125;">About&lt;/router-link>
    &lt;/div>
    &lt;div class="content">
      &lt;!-- 指定组件显示的位置 -->
      &lt;router-view>&lt;/router-view>
    &lt;/div>
  &lt;/div>
&lt;/template>
&lt;script>
 export default &#123;
  name:'App',
 &#125;
&lt;/script></code></pre>

<h3 id="路由传参"><a href="#路由传参" class="headerlink" title="路由传参"></a>路由传参</h3><h4 id="query传参"><a href="#query传参" class="headerlink" title="query传参"></a>query传参</h4><p>父组件可通过向<span class="tips"> to </span>属性添加参数进行传参，类似于带参数的http请求，子路由可通过<span class="tips">$route.query.参数名</span>读取数据</p>
<p>案例：为aboutWeb组件添加子组件webTech，并由aboutWeb向webTech传参</p>
<h5 id="方法1：通过字符串传参"><a href="#方法1：通过字符串传参" class="headerlink" title="方法1：通过字符串传参"></a>方法1：通过字符串传参</h5><p>在路由路径后添加查询字符串<span class="tips"> ? </span>，并在之后以键值对的方式传参。</p>
<p>父组件 aboutWeb.vue</p>
<pre><code>&lt;template>
  &lt;div>
    &lt;ul>
        &lt;li v-for="(t,index) in tech" :key="index">
        &lt;!-- 字符串写法 -->
        &lt;!-- 注意：由于to前使用了:解析js语法，因此要添加``将语句解析为字符串 -->
        &lt;router-link :to="`/about/aboutWeb/webTech?name=$&#123;t.name&#125;&lang=$&#123;t.language&#125;`">&#123;&#123;t.name&#125;&#125;&lt;/router-link>
        &lt;/li>
    &lt;/ul>
    &lt;router-view>&lt;/router-view>
  &lt;/div>
&lt;/template>
&lt;script>
 export default &#123;
    name:'aboutWeb',
    data()&#123;
        return&#123;
            tech:[
                &#123;name:'前端',language:'html/css/javaScript'&#125;,
                &#123;name:'框架',language:'vue'&#125;,
                &#123;name:'后端',language:'java'&#125;,
                &#123;name:'系统',language:'CentOS7'&#125;,
                &#123;name:'服务器',language:'nginx'&#125;,
                ]
            &#125;
        &#125;
 &#125;
&lt;/script></code></pre>

<h5 id="方法2：通过对象传参"><a href="#方法2：通过对象传参" class="headerlink" title="方法2：通过对象传参"></a>方法2：通过对象传参</h5><pre><code>&lt;template>
  &lt;div>
    &lt;ul>
        &lt;li v-for="(t,index) in tech" :key="index">
        &lt;!-- 对象写法 -->
            &lt;router-link :to="&#123;
            path:'/about/aboutWeb/webTech',
            query:&#123;
                name:t.name,
                lang:t.language
            &#125;
            &#125;">
            &#123;&#123;t.name&#125;&#125;
            &lt;/router-link>
        &lt;/li>
    &lt;/ul>
    &lt;router-view>&lt;/router-view>
  &lt;/div>
&lt;/template>
&lt;script>
 export default &#123;
    name:'aboutWeb',
    data()&#123;
        return&#123;
            tech:[
                &#123;name:'前端',language:'html/css/javaScript'&#125;,
                &#123;name:'框架',language:'vue'&#125;,
                &#123;name:'后端',language:'java'&#125;,
                &#123;name:'系统',language:'CentOS7'&#125;,
                &#123;name:'服务器',language:'nginx'&#125;,
                ]
            &#125;
        &#125;
 &#125;
&lt;/script></code></pre>

<h5 id="子路由读取参数"><a href="#子路由读取参数" class="headerlink" title="子路由读取参数"></a>子路由读取参数</h5><p>webTech.vue文件：</p>
<pre><code>&lt;template>
  &lt;div class="show">
  &lt;!-- 读取数据 -->
    &lt;span class="tech-name">&#123;&#123;$route.query.name&#125;&#125;：&lt;/span>
    &lt;span class="tech-lang">&#123;&#123;$route.query.lang&#125;&#125;&lt;/span>
  &lt;/div>
&lt;/template>

&lt;script>
 export default &#123;
    name:'webTech'
 &#125;
&lt;/script></code></pre>

<h4 id="params传参"><a href="#params传参" class="headerlink" title="params传参"></a>params传参</h4><h5 id="方法1：通过字符串传参-1"><a href="#方法1：通过字符串传参-1" class="headerlink" title="方法1：通过字符串传参"></a>方法1：通过字符串传参</h5><p>通过字符串传参时，必须在配置路由规则时在<span class="tips">path</span>路径中指定解析的参数</p>
<pre><code> &#123;   
  name:'aboutweb',
  path:'aboutWeb',
  component:aboutWeb,
  children:[&#123;
    path:'webTech/:name/:lang', //在路径中解析参数
    conpontent:webTech
  &#125;]
      &#125;</code></pre>

<p>父组件通过附带参数的路径传输参数</p>
<pre><code>&lt;router-link :to="`/about/aboutWeb/webTech?name=$&#123;t.name&#125;&lang=$&#123;t.language&#125;`">&#123;&#123;t.name&#125;&#125;&lt;/router-link></code></pre>

<p>子组件通过<span class="tips">$route.params.参数名</span>读取参数</p>
<pre><code>&lt;span class="tech-name">&#123;&#123;$route.params.name&#125;&#125;&lt;/span>
&lt;span class="tech-lang">&#123;&#123;$route.params.lang&#125;&#125;&lt;/span></code></pre>

<h5 id="方法2：通过对象传参-1"><a href="#方法2：通过对象传参-1" class="headerlink" title="方法2：通过对象传参"></a>方法2：通过对象传参</h5><p>通过对象传参时，<span class="tips">to</span>属性不能再使用<span class="tips">path</span>调用组件，而需要使用<span class="tips">name</span>属性，因此路由规则中一定需要给予组件name属性</p>
<pre><code>&#123;   
  name:'aboutweb',
  path:'aboutWeb',
  component:aboutWeb,
  children:[&#123;
    name:'webtech' //必须
    path:'webTech/:name/:lang', //必须
    conpontent:webTech
  &#125;]
      &#125;</code></pre>

<p>传参的父组件</p>
<pre><code>&lt;router-link :to="&#123;
            name:'webtech', //不能使用path
            params:&#123;
                name:t.name,
                lang:t.language
            &#125;&#125;">
            &#123;&#123;t.name&#125;&#125;
&lt;/router-link></code></pre>
<p>子组件通过<span class="tips">$route.params.参数名</span>读取参数，代码同上</p>
<h4 id="props属性"><a href="#props属性" class="headerlink" title="props属性"></a>props属性</h4><p>当需要大量调用参数时，频繁使用$route.query增加了代码量，可以在路由中配置<span class="tips">props</span>属性简化代码。props属性支持三种配置方法。</p>
<h5 id="1-对象形式，传输固定参数"><a href="#1-对象形式，传输固定参数" class="headerlink" title="1. 对象形式，传输固定参数"></a>1. 对象形式，传输固定参数</h5><pre><code>&#123;   
  name:'aboutweb',
  path:'aboutWeb',
  component:aboutWeb,
  children:[&#123;
    name:'webtech' 
    path:'webTech',
    conpontent:webTech,
    //对象形式，传输固定参数
    props:&#123; name:'框架',
            lang:'Vue'&#125;
  &#125;]
      &#125;</code></pre>
<h5 id="2-函数形式，传输指定参数-用query"><a href="#2-函数形式，传输指定参数-用query" class="headerlink" title="2. 函数形式，传输指定参数(用query)"></a>2. 函数形式，传输指定参数(用query)</h5><pre><code>&#123;   
  name:'aboutweb',
  path:'aboutWeb',
  component:aboutWeb,
  children:[&#123;
    name:'webtech' 
    path:'webTech',
    conpontent:webTech,
    //对象形式，传输固定参数
    pros(route)&#123;
      return &#123;
        name: route.query.name,
        lang: route.query.language
      &#125;
    &#125;
  &#125;]
      &#125;</code></pre>

<h5 id="3-布尔值，自动传输所有params参数"><a href="#3-布尔值，自动传输所有params参数" class="headerlink" title="3. 布尔值，自动传输所有params参数"></a>3. 布尔值，自动传输所有params参数</h5><pre><code>&#123;   
  name:'aboutweb',
  path:'aboutWeb',
  component:aboutWeb,
  children:[&#123;
    name:'webtech' 
    path:'webTech/:name/:lang', //自动传输所有参数
    conpontent:webTech,
    //布尔值形式
    pros: true
  &#125;]
      &#125;</code></pre>
<h5 id="接收参数"><a href="#接收参数" class="headerlink" title="接收参数"></a>接收参数</h5><p>子组件需要通过<span class="tips">props</span>属性接收参数</p>
<pre><code>&lt;span>&#123;&#123;name&#125;&#125;&lt;/span> //直接调用
&lt;span>&#123;&#123;lang&#125;&#125;&lt;/span>
export default&#123;
   name:'webTech',
  pros:['name','lang'] //接收参数
   &#125;</code></pre>

<h3 id="路由导航"><a href="#路由导航" class="headerlink" title="路由导航"></a>路由导航</h3><p>路由导航分为声明式和编程式</p>
<ul>
<li><span class="strong">声明式：</span>通过&lt;router-link&gt;配置to属性实现跳转</li>
<li><span class="strong">编程式：</span>通过调用push、back等API跳转组件</li>
</ul>
<h4 id="路由导航与浏览器历史记录"><a href="#路由导航与浏览器历史记录" class="headerlink" title="路由导航与浏览器历史记录"></a>路由导航与浏览器历史记录</h4><p>浏览器历史记录默认为<span class="tips">push</span>状态，组件的跳转会记录到历史记录中，通过浏览器的前进/后退按钮，或者调用<span class="tips">go</span>、<span class="tips">back</span>等API，能根据历史记录实现页面的前进、回退。当浏览器历史记录切换为<span class="tips">replace</span>状态时，浏览器会使用当前页面的记录替换掉上一条历史记录。</p>
<pre><code> &lt;--跳转到About页面后，About页面的历史记录会替换掉该页的历史记录，此时无法再使用浏览器的回退按钮返回该页面了-->
&lt;router-link replace to="...">跳转到About页面&lt;/router-link></code></pre>

<h4 id="编程式路由导航"><a href="#编程式路由导航" class="headerlink" title="编程式路由导航"></a>编程式路由导航</h4><p>不借助&lt;router-link&gt;标签，实现路由跳转<br>API：</p>
<ul>
<li><span class="strong">push：</span>跳转到指定路由组件</li>
<li><span class="strong">replace：</span>跳转到指定路由组件并替换浏览器历史记录</li>
<li><span class="strong">back：</span>回退</li>
<li><span class="strong">forward：</span>前进(需要之前回退过)</li>
<li><span class="strong">go(值)：</span>根据值前进/回退指定次数</li>
</ul>
<p>eg：通过按钮实现(或div)实现路由跳转</p>
<pre><code>&lt;template>
  &lt;div>
   &lt;button class="link" @click="backTo">回退&lt;/button>
    &lt;button class="link" @click="forwardTo">前进&lt;/button>
    &lt;button class="link" @click="goTo">跳转&lt;/button>
    &lt;ul>
        &lt;li v-for="(t,index) in tech" :key="index">
            &lt;button @click="pushTo(t)">push&lt;/button>
            &lt;button @click="replaceTo(t)">replace&lt;/button>
        &lt;/li>
    &lt;/ul>
    &lt;router-view>&lt;/router-view>
  &lt;/div>
&lt;/template>

&lt;script>
 export default &#123;
    name:'aboutWeb',
    data()&#123;
        return&#123;
            tech:[
                &#123;name:'前端',language:'html/css/javaScript'&#125;,
                &#123;name:'后端',language:'java'&#125;,
                &#123;name:'系统',language:'CentOS7'&#125;,
                &#123;name:'服务器',language:'nginx'&#125;,
                ]
            &#125;
        &#125;,
    methods:&#123;
        backTo()&#123;
      this.$router.back() //回退一次
    &#125;,
    forwardTo()&#123;
      this.$router.forward() //前进一次
    &#125;,
    goTo()&#123;
      this.$router.go(-2) //，回退2步，正数前进，负数后退
    &#125;,
        pushTo(m)&#123;    //跳转到指定组件
            this.$router.push(&#123;
                path:'/about/aboutWeb/webTech',
                query:&#123;
                name:m.name,
                lang:m.language
            &#125;
            &#125;)
        &#125;,
        replaceTo(n)&#123;  //跳转到指定组件并替换上一个历史记录
            this.$router.replace(&#123;
                path:'/about/aboutWeb/webTech',
                query:&#123;
                name:n.name,
                lang:n.language
            &#125;
            &#125;)
        &#125;
    &#125;
 &#125;
&lt;/script></code></pre>

<h3 id="路由组件的缓存"><a href="#路由组件的缓存" class="headerlink" title="路由组件的缓存"></a>路由组件的缓存</h3><p>当组件进行切换时，原组件会被销毁，原组件中未保存的表单内容等数据同时也会被删除，此时，可以使用<span class="tips">&lt;keep-alive&gt;</span>标签阻止组件被销毁，保留数据。</p>
<pre><code> //缓存多组件使用 :include="['组件1','组件2',...]"
&lt;keep-alive include="aboutMe"> 
  &lt;router-view>&lt;/router-view>
&lt;/keep-alive></code></pre>

<h3 id="路由独有生命周期"><a href="#路由独有生命周期" class="headerlink" title="路由独有生命周期"></a>路由独有生命周期</h3><ul>
<li><span class="strong">activated：</span>当组件被激活时(显示到页面)</li>
<li><span class="strong">deactivated：</span>当组件失活时<br>当组件被&lt;keep-alive&gt;时，组件不会被销毁，在切换组件时created、destory等钩子函数不会执行，此时可以使用activated、deactivated替代。</li>
</ul>
<p>eg：使某组件在激活时启用定时器，失活时关闭</p>
<pre><code> export default &#123;
  name:'webTech',
  data()&#123;.....&#125;,
  activated()&#123;
            let timer=setInterval(....);
            &#125;,
  deactivated()&#123;
            clearInterval(this.timer)
            &#125;
 &#125;</code></pre>

<h3 id="路由守卫"><a href="#路由守卫" class="headerlink" title="路由守卫"></a>路由守卫</h3><p> 在切换组件时，可借助路由守卫来阻止/放行组件的跳转，常用于判断用户是否有权限访问，无权限时阻止访问,也可用于在组件跳转前后执行某些功能。</p>
<h4 id="前置、后置路由守卫-全局"><a href="#前置、后置路由守卫-全局" class="headerlink" title="前置、后置路由守卫(全局)"></a>前置、后置路由守卫(全局)</h4><p> 该路由守卫写于路由器配置文件中</p>
<ul>
<li><span class="strong">beforeEach((to,from,next)=&gt;{ })：</span>前置路由守卫，在<span class="tips">初始化、路由跳转前</span>执行，接收to,from,next三个参数，to代表即将跳转的组件，from为来源组件，next代表放行</li>
<li><span class="strong">beforeEach((to,from)=&gt;{ })：</span>后置路由守卫，在<span class="tips">路由跳转后</span>执行，接收to,from两个参数</li>
</ul>
<p>eg: 检查用户是否为指定用户，不是则禁止访问aboutWeb和aboutMe组件</p>
<pre><code> import VueRouter from "vue-router";
 import Home from '../pages/pageHome'
 import About from '../pages/pageAbout'
 import aboutMe from '../pages/aboutMe'
 import aboutWeb from '../pages/aboutWeb'
 import webTech from '../pages/webTech'
 const router= new VueRouter(&#123;
    routes:[
        &#123;
            name:'home',
            path:'/home',   
            component:Home, 
            meta:&#123;title:'首页'&#125;//meta为自定义属性，程序员可自定义添加任何参数
        &#125;,
        &#123;
            name:'about',
            path:'/about',
            component:About,
            meta:&#123;title:'关于'&#125;,
            children:[
                &#123;
                    name:'aboutme',
                    path:'aboutMe',
                    component:aboutMe,
                    meta:&#123;isAuth:true,//标识该组件是否需要鉴别权限
                          title:'关于我'&#125;//用于组件跳转后修改地址栏标题
                &#125;,
                &#123;
                    name:'aboutweb',
                    path:'aboutWeb',
                    component:aboutWeb,
                    meta:&#123;isAuth:true,
                        title:'关于网站'&#125;,
                    children:[
                        &#123;
                            name:'webTech',
                            path:'webTech',
                            component:webTech,
                            meta:&#123;title:'关于本站采用的技术'&#125;
                        &#125;
                    ]
                &#125;
            ]
        &#125;
    ]
 &#125;)
// 全局前置路由守卫
 router.beforeEach((to,from,next)=>&#123;
        if(to.meta.isAuth)&#123;//确认是否鉴权，避免对所有组件都进行鉴权消耗性能
 // 当组件不多时，可以使用下面的代码通过判断路径来识别哪些组件需要权限认证
        // if(to.name==='aboutme'||to.path==='/about/aboutWeb')
        //只有localStorage中的user为zhoujielun才能访问
            if(localStorage.getItem('user')==='zhoujielun')&#123;
                next() //放行访问
            &#125;
            else&#123;
                alert('无权限访问')
            &#125;
        &#125;
        else&#123;
            next()  //对不需要权限认证的页面直接放行
        &#125; 
 &#125;)
// 全局后置路由守卫
//用于切换完毕后，修改网页地址栏的标题
 router.afterEach((to)=>&#123;
    document.title=to.meta.title  
 &#125;)
 export default router</code></pre>

<h4 id="独享路由守卫"><a href="#独享路由守卫" class="headerlink" title="独享路由守卫"></a>独享路由守卫</h4><p>只为某个路由组件配置的路由守卫， 同样写于路由器配置文件中<br><span class="strong">beforeEnter:(to,from,next)=&gt;{ }</span>只对针对某个组件配置守卫，同样接收to,from,next三个参数，to代表即将跳转的组件，from为来源组件，next代表放行</p>
<p>eg: 判断用户是否为指定用户，不是则禁止访问aboutMe组件</p>
<pre><code>&#123;
            name:'about',
            path:'/about',
            component:About,
            meta:&#123;title:'关于'&#125;,
            children:[
                &#123;
                    name:'aboutme',
                    path:'aboutMe',
                    component:aboutMe,
                    meta:&#123;isAuth:true,//鉴别权限
                          title:'关于我'&#125;,
                          //独享路由守卫
                          beforeEnter:(to,from,next)=>&#123;
                                if(to.meta.isAuth)&#123;
                                  //只有localStorage中的user为zhoujielun才能访问
                                    if(localStorage.getItem('user')==='zhoujielun')&#123;
                                        next()
                                    &#125;
                                    else&#123;
                                        alert('无权限访问')
                                    &#125;
                                &#125;
                                else&#123;
                                    next()
                                &#125; 
                          &#125;
                &#125;,</code></pre>

<h4 id="组件内路由守卫"><a href="#组件内路由守卫" class="headerlink" title="组件内路由守卫"></a>组件内路由守卫</h4><p>无法修改路由器配置文件时，可以将路由守卫设于组件.vue的文件中。<span class="tips">组件内的路由守卫只会在通过路由规则进入组件时才会执行</span>，如果将组件标签直接添加到页面中，该组件会被调用，但此时不属于通过路由规则进入组件，不会执行下述路由守卫函数。</p>
<ul>
<li><span class="strong">beforeRouteEnter(to,from,next){ }</span>：进入组件前执行</li>
<li><span class="strong">beforeRouteLeave(to,from,next){ }</span>：离开组件前执行</li>
<li><span class="strong">beforeRouteUpdate(to,from,next){ }</span>：组件更新时执行</li>
</ul>
<pre><code>&lt;template>
  &lt;div class="about">
    &lt;h2>About页面&lt;/h2>
    &lt;div class="about-btn">
    &lt;router-link  to="/about/aboutWeb">关于网页&lt;/router-link>
    &lt;router-link  to="/about/aboutMe">关于我&lt;/router-link>
    &lt;/div>
    &lt;div class="about-content">
      &lt;keep-alive include="aboutMe">
      &lt;router-view>&lt;/router-view>
      &lt;/keep-alive>
    &lt;/div>
  &lt;/div>
 &lt;/template>
 &lt;script>
 export default &#123;
    name:'pageAbout',
    // 通过路由规则进入组件时调用
    beforeRouteEnter(to,from,next)&#123;
      //只有localStorage中的user为zhoujielun才能访问
            if(localStorage.getItem('user')==='zhoujielun')&#123;
                    next()
                    &#125;
            else&#123;
                 alert('无权限访问')
             &#125;
    &#125;,
     // 通过路由规则离开组件时调用
    beforeRouteLeave(to,from,next)&#123;
      console.log('即将离开组件')
        next();//放行
    &#125;
&#125;
 &lt;/script></code></pre>
        </div>
    </div>
    <div class="post-nav">
        
            <div class="post-prev ">
                <a href="/blog/2022/07/29/lets-encrypt/">上一篇：基于certbot获取TLS证书</a>
            </div>
            
            
                <div class="post-next">
                    <a href="/blog/2022/07/14/yaml%E8%AF%AD%E6%B3%95/">下一篇：yaml语法 </a>
                </div>
                 
    </div>
    <div class="container">
        <!--设计来源于B站-季夏小贞-->
        <div class="bigHead"></div>
        <div class="ears"></div>
        <div class="body"></div>
        <div class="paws-front"></div>
        <div class="paws-back"></div>
        <div class="details"></div>
        <div class="tail"></div>
        <div class="sleep">
          <span class="s1">z</span>
          <span class="s2">z</span>
          <span class="s3">z</span>
          <span class="s4">z</span>
          <span class="s5">z</span>
        </div>
    </div>
</div>
<div class="left-menu">
    <a class="iconfont backTop" href="javascript:">&#xe655;</a>
    <div class="husky"></div>
  </div>
</div>

<script src="/blog/js/jquery.min.js"></script>
<script src="/blog/js/jquery.bumpytext.js"></script>
<script src="/blog/js/grain.min.js"></script>
<script src="/blog/js/main.js"></script>


    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.2.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.8.0/dist/highlightjs-line-numbers.min.js"></script>
    <script>
        //代码高亮初始化
        hljs.highlightAll();
        hljs.initLineNumbersOnLoad();
        //代码复制功能
        let pres=document.querySelectorAll('pre');
        for(let i=0;i<pres.length;i++){
        var copyBtn=document.createElement('span');
        copyBtn.innerText="copy";
        pres[i].appendChild(copyBtn);
        let codes=pres[i].querySelector('code').innerText;
        copyBtn.addEventListener("click",function(){
        let input=document.createElement('textarea');
        pres[i].appendChild(input);
        input.value=codes;
        input.select(); // 选中文本
        document.execCommand("copy"); // 执行浏览器复制命令
        pres[i].removeChild(input);
        console.log('复制完毕');
},false)
}
        </script>
    
    <script>
        if(!viewH){
            let viewH=document.documentElement.clientHeight;
        }
    // 懒加载
    let imgs=document.querySelector('.art_content').querySelectorAll('img');
    if(imgs){
    let lazyload=function(){
    imgs.forEach((item,index)=>{
        let rect=item.getBoundingClientRect();
        if(rect.bottom>=0&&rect.top<viewH){
            item.src=item.dataset.src;
        }
    })
    };
    document.querySelector('.second-main').addEventListener('scroll',()=>{
        lazyload();
    })
}
    </script>
</body>



</html>